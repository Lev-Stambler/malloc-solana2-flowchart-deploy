(this["webpackJsonpmalloc-flow-2"]=this["webpackJsonpmalloc-flow-2"]||[]).push([[0],{1001:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"solend_action","instructions":[{"name":"solendProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"amountIn","type":"u64"},{"name":"data","type":"bytes"},{"name":"dummy","type":"bool"}]},{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"ExpectedFourActionAccountForRecipient","msg":"Expected 1 action account for recipient"},{"code":301,"name":"ExpectedTheRecipientAccountToBeMutable","msg":"Expected the recipient account to be mutable"}]}')},1002:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"action_swap","instructions":[{"name":"swap","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"amountIn","type":"u64"},{"name":"data","type":"bytes"},{"name":"dummy","type":"bool"}]},{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]},{"name":"closeResultAccount","accounts":[{"name":"resultAccountCtx","accounts":[{"name":"result","isMut":true,"isSigner":false}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"types":[{"name":"Side","type":{"kind":"enum","variants":[{"name":"Bid"},{"name":"Ask"}]}}],"events":[{"name":"DidSwap","fields":[{"name":"givenAmount","type":"u64","index":false},{"name":"minExpectedSwapAmount","type":"u64","index":false},{"name":"fromAmount","type":"u64","index":false},{"name":"toAmount","type":"u64","index":false},{"name":"spillAmount","type":"u64","index":false},{"name":"fromMint","type":"publicKey","index":false},{"name":"toMint","type":"publicKey","index":false},{"name":"quoteMint","type":"publicKey","index":false},{"name":"authority","type":"publicKey","index":false}]}],"errors":[{"code":300,"name":"SwapTokensCannotMatch","msg":"The tokens being swapped must have different mints"},{"code":301,"name":"SlippageExceeded","msg":"Slippage tolerance exceeded"},{"code":302,"name":"MalformedActionCallData","msg":"Malformed Action Call Data"},{"code":303,"name":"InvalidInstructionByte","msg":"Invalid Instruction Byte"}]}')},1006:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"transfer_action","instructions":[{"name":"transferProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"amountIn","type":"u64"}]},{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"ExpectedFourActionAccountForRecipient","msg":"Expected 1 action account for recipient"},{"code":301,"name":"ExpectedTheRecipientAccountToBeMutable","msg":"Expected the recipient account to be mutable"}]}')},1087:function(e,t,n){},1088:function(e,t,n){},1091:function(e,t){},1093:function(e,t){},1100:function(e,t){},1115:function(e,t){},1116:function(e,t){},1156:function(e,t){},1157:function(e,t){},1158:function(e,t){},1162:function(e,t){},1181:function(e,t){},1182:function(e,t){},1202:function(e,t){},1203:function(e,t){},1204:function(e,t){},1208:function(e,t){},1225:function(e,t){},1226:function(e,t){},1246:function(e,t){},1247:function(e,t){},1266:function(e,t){},1267:function(e,t){},1287:function(e,t){},1288:function(e,t){},1289:function(e,t){},1295:function(e,t){},1296:function(e,t){},1314:function(e,t){},1315:function(e,t){},1349:function(e,t){},1350:function(e,t){},1351:function(e,t){},1355:function(e,t){},1372:function(e,t){},1373:function(e,t){},1416:function(e,t){},1456:function(e,t){},1457:function(e,t){},1458:function(e,t){},1532:function(e,t){},1534:function(e,t){},1548:function(e,t){},1552:function(e,t){},1554:function(e,t){},1564:function(e,t){},1566:function(e,t){},1597:function(e,t){},1599:function(e,t){},1606:function(e,t){},1607:function(e,t){},1632:function(e,t){},1639:function(e,t,n){"use strict";n.r(t);var r,a=n(2),c=n.n(a),o=n(63),i=n.n(o),s=(n(1087),n(1088),n(1089),n(1090),n(12)),u=n(0),l=n.n(u),d=n(5),p=n(20),f=n(263),m=n(663),b=n(1701),h=n(1710),O=n(54),x=n(142),v=n(475),j=n(384),y=n(17),g=n(122);!function(e){e.actionVertex="ACTION_VERTEX",e.tokenAccount="TOKEN_ACCOUNT",e.mintAccount="MINT_ACCOUNT",e.tokenAccountOnlyInit="TOKEN_ACCOUNT_ONLY_INIT",e.mintAccountOnlyInit="MINT_ACCOUNT_ONLY_INIT",e.wholeNumber="WHOLE_NUMBER",e.fractionNumber="FRACTION_NUMBER",e.other="OTHER"}(r||(r={}));var A=n(995),k=n.n(A),w=function(e,t){if(e){t||(t="console.json"),"object"===typeof e&&(e=JSON.stringify(e,void 0,4));var n=new Blob([e],{type:"text/json"}),r=document.createEvent("MouseEvents"),a=document.createElement("a");a.download=t,a.href=window.URL.createObjectURL(n),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(r)}else console.error("No data")},S=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({accept:"application/json"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){return e[K]},N=function(e){return e[0][1].value},M=function(e){return e[1][1].value},T=function(e){return Object.keys(e)},E=function(e){var t=Object.keys(e),n=t.indexOf(K);return t.splice(n,1),t},C=function(e){return e.split("-")[0]},R=function(e,t){return e[t].next_actions.map((function(e){return e.slice(1).map((function(e){return e[1].value||e[0].value?{amount:parseInt(e[1].value),id:e[0].value}:null})).filter((function(e,t){return null!==e}))}))},P=function(e){return[{value:"",className:"".concat(r.actionVertex,"-").concat(e)},{value:"",className:r.wholeNumber}]},K="SOURCE-0",_=[[{value:"NextActionID",readOnly:!0},{value:"Parts of 1,000",readOnly:!0}],P(0)],D={selected:K,counter:1,new_action:"SERUM_SWAP",graph:{},sourceMint:"<UNSET>",hiddenInputData:{}};D.graph[K]={input:[[{value:"InputTokenAccount",readOnly:!0},{value:"",className:r.tokenAccountOnlyInit}],[{value:"Amount",readOnly:!0},{value:"",className:r.fractionNumber}]],next_actions:[_]};var B=new g.Store(D),L=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(!((t=e.sent).length<1)){e.next=6;break}return alert("Please select a file"),e.abrupt("return");case 6:return e.t0=JSON,e.next=9,t[0].text();case 9:e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),console.log(n),n.graph[K].input[0][1].value="",B.setState(n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(JSON.stringify(B.state),"flow.json");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=n(446),F=n(451),G=n(452),V=n(453),H=n(462),Y={},J=function(e){Y[e.actionTypeUID]=e};J(V.b),J(H.a),J(W.a),J(F.a),J(G.a);var z=n(72),Q=n(88),X=["SERUM_SWAP","TRANSFER","MINT","SOLEND DEPOSIT LIQUIDITY"],q=function(e){if("SERUM_SWAP"===e)return V.a.actionTypeUID;if("TRANSFER"===e)return H.a.actionTypeUID;if("MINT"===e)return F.a.actionTypeUID;if("SOLEND DEPOSIT LIQUIDITY"===e)return G.a.actionTypeUID;throw"unexpected vertex id of ".concat(e)},Z=function(e){if("SERUM_SWAP"===e)return Object(Q.a)().mallocSpl.SWAP_PROGRAM_ID;if("TRANSFER"===e)return Object(Q.a)().mallocSpl.TRANSFER_PROGRAM_ID;if("MINT"===e)return Object(Q.a)().mallocSpl.MINT_TO;if("SOLEND DEPOSIT LIQUIDITY"===e)return Object(Q.a)().mallocSpl.SOLEND_ACTION;throw"unexpected vertex id of ".concat(e)},$=n(21),ee=function(){var e=Object(g.useStore)(B),t=X;return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("h2",{children:"Node Id"}),Object($.jsx)("select",{id:"node-selector",className:"form-select",size:5,"aria-label":"size 3 select example",onChange:function(e){B.setState({selected:e.target.value})},children:Object.keys(e.graph).map((function(e,t){return Object($.jsx)("option",{value:e,children:e})}))}),Object($.jsx)("br",{}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-10",children:Object($.jsx)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){B.setState({new_action:e.target.value})},children:t.map((function(e,t){return Object($.jsx)("option",{value:e,children:e})}))})}),Object($.jsx)("div",{className:"col-2 justify-content-center",children:Object($.jsx)("button",{onClick:function(){var t=e.new_action+"-"+e.counter.toString(),n=function(e){switch(e){case"SOLEND DEPOSIT LIQUIDITY":return{input:[]};case"MINT":return{input:[[{value:"decimals",readOnly:!0},{value:"6",className:r.wholeNumber}],[{value:"initialSupply",readOnly:!0},{value:"",className:r.fractionNumber}]]};case"TRANSFER":return{input:[[{value:"recipientWallet",readOnly:!0},{value:"",className:r.other}]]};case"SERUM_SWAP":return{input:[[{value:"outMint",readOnly:!0},{value:"",className:r.mintAccount}],[{value:"minOut",readOnly:!0},{value:"0",className:r.fractionNumber}]],hiddenData:{rent:O.SYSVAR_RENT_PUBKEY.toBase58(),serumDexProgramId:Object(Q.a)().projectSerum.DEX_PROGRAM_ID}};default:throw"Unexpected action type ".concat(e)}}(e.new_action),a={input:n.input,next_actions:Object(y.a)(Array(Y[q(e.new_action)].expectedNumberOfOutMints)).map((function(e){return _}))};e.graph[t]=a,e.hiddenInputData[t]=n.hiddenData||{},B.setState(Object(s.a)(Object(s.a)({},e),{},{counter:e.counter+1,graph:Object(s.a)({},e.graph)}))},children:"add"})})]})]})},te=n(666),ne=n(385),re=n(125),ae=n(668),ce=new g.Store({derivedTokenAccounts:null,tokenList:null}),oe=re.ASSOCIATED_TOKEN_PROGRAM_ID,ie=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce.state.tokenList){e.next=2;break}return e.abrupt("return",ce.state.tokenList);case 2:return e.next=4,(new ae.b).resolve();case 4:return t=e.sent,n=t.filterByClusterSlug(Object(Q.a)().solana.NETWORK).getList(),ce.setState(Object(s.a)(Object(s.a)({},ce.state),{},{tokenList:n})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,n();case 3:if(r=e.sent,"devnet"!==Object(Q.a)().solana.NETWORK){e.next=15;break}return e.t0=[],e.t1=Object(y.a)(r),e.t2=y.a,e.next=10,se(t);case 10:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t4));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new O.PublicKey(Object(Q.a)().demo.FAKE_USDC),r=new O.PublicKey(Object(Q.a)().demo.FAKE_TOKEN_A),e.next=4,pe(t,n);case 4:return a=e.sent,e.next=7,pe(t,r);case 7:if(c=e.sent,a&&c){e.next=10;break}throw"Expected info for these mints";case 10:return e.abrupt("return",[Object(s.a)(Object(s.a)({},a),{},{chainId:-1,name:"FAKE USDC",symbol:"FUSDC",address:Object(Q.a)().demo.FAKE_USDC}),Object(s.a)(Object(s.a)({},c),{},{chainId:-1,name:"FAKE: A TOKEN",symbol:"FA TOKEN",address:Object(Q.a)().demo.FAKE_TOKEN_A})]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.PublicKey.findProgramAddress([t.toBuffer(),re.TOKEN_PROGRAM_ID.toBuffer(),new O.PublicKey(n).toBuffer()],oe);case 2:return r=e.sent,e.abrupt("return",r[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map((function(e){return ue(t,e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.connection.getAccountInfo(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.prev=5,a=Object(ne.parseTokenAccount)(r.data),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(5),console.error("An error occured parsing the data, returning null",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.connection.getAccountInfo(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",Object(ne.parseMintAccount)(r.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=n(133),me=function(e){return new fe.a(new O.Connection(Object(Q.a)().solana.RPC),e,{})},be=n(1024),he=n(1709),Oe=n(1708),xe=n(1011),ve=n.n(xe),je=n(803),ye=n(981),ge=n(1702);function Ae(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ke=Object(je.a)((function(e){return Object(ye.a)({paper:{position:"absolute",width:"auto",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})})),we=function(e){var t=e.tok,n=e.setChoosen;return Object($.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",width:"100%",gap:"5px"},children:[Object($.jsx)("button",{onClick:n,children:"Choose"}),Object($.jsx)("div",{children:t.info.name}),Object($.jsx)("div",{children:Object(j.a)(t.info.mint.toBase58())}),Object($.jsxs)("div",{children:[Object(j.a)(t.account),t.balance?"":" (currently nonexistent)"]}),Object($.jsx)("div",{children:z.utils.tokens.toReadableNumber(new re.u64(t.balance||0),t.info.decimals)})]})};function Se(e){var t,n=null===(t=e.onlyWithInitializedAccounts)||void 0===t||t,r=ke(),o=c.a.useState(Ae),i=Object(p.a)(o,1)[0],u=c.a.useState(!1),f=Object(p.a)(u,2),m=f[0],b=f[1],h=c.a.useState(""),v=Object(p.a)(h,2),j=v[0],y=v[1],A=c.a.useState(""),k=Object(p.a)(A,2),w=k[0],S=k[1],I=Object(x.useAnchorWallet)(),N=Object(a.useState)(-1),M=Object(p.a)(N,2),T=M[0],E=M[1],C=Object(g.useStore)(ce),R=me(I),P=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(R);case 2:return t=e.sent,e.next=5,le(null===I||void 0===I?void 0:I.publicKey,t.map((function(e){return e.address})));case 5:return r=e.sent,e.next=8,Promise.all(r.map(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(R,t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.amount);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:a=e.sent,c=r.map((function(e,n){return{account:e.toBase58(),info:t[n],balance:a[n]}})),o=n?c.filter((function(e){return e.balance})):c,i=o.map((function(e){var t;return Object(s.a)(Object(s.a)({},e),{},{info:Object(s.a)(Object(s.a)({},e.info),{},{mint:new O.PublicKey(e.info.address)}),balance:(null===(t=e.balance)||void 0===t?void 0:t.toString())||null})})),ce.setState(Object(s.a)(Object(s.a)({},C),{},{derivedTokenAccounts:i}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P()}),[]);Object(a.useRef)(null);var K=function(){var t=Object(d.a)(l.a.mark((function t(){var n,r,a,c,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C.derivedTokenAccounts){t.next=4;break}return b(!1),e.onClose(),t.abrupt("return");case 4:if(!(T>=0)){t.next=8;break}e.onClose(C.derivedTokenAccounts[T]),t.next=45;break;case 8:if(("TOKEN"!==(n=-1===T?"TOKEN":"MINT")||j)&&("MINT"!==n||w)){t.next=13;break}return b(!1),e.onClose(),t.abrupt("return");case 13:if("TOKEN"!==n){t.next=17;break}t.t0=j,t.next=20;break;case 17:return t.next=19,ue(I.publicKey,w);case 19:t.t0=t.sent.toBase58();case 20:return r=t.t0,t.next=23,de(R,new O.PublicKey(r));case 23:if(a=t.sent,"TOKEN"!==n||a){t.next=29;break}return alert("Looks like an invalid SPL Token Account was provided"),b(!1),e.onClose(),t.abrupt("return");case 29:if("MINT"!==n||!1===e.onlyWithInitializedAccounts||a){t.next=34;break}return alert("Looks like there is no initialized associated account with this mint"),b(!1),e.onClose(),t.abrupt("return");case 34:return c="TOKEN"===n?a.mint:new O.PublicKey(w),t.next=37,pe(R,c);case 37:if(o=t.sent){t.next=43;break}return alert("Looks like the mint associated with this token is invalid"),b(!1),e.onClose(),t.abrupt("return");case 43:i=(null===a||void 0===a?void 0:a.amount)||new re.u64(0),e.onClose({balance:i,account:r,info:Object(s.a)(Object(s.a)({},o),{},{mint:c})});case 45:b(!1),e.onClose();case 47:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=Object($.jsx)("div",{onBlur:K,className:"wrapper",onClick:function(e){return e.currentTarget.blur()},style:{position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",zIndex:100,display:"grid",justifyItems:"center",justifyContent:"center",alignItems:"center"},children:Object($.jsxs)("div",{style:Object(s.a)({},i),className:r.paper,children:[Object($.jsx)("h2",{id:"simple-modal-title",children:"Choose a token account"}),Object($.jsx)("p",{id:"simple-modal-description",children:"Choose from either your associated token accounts or add a custom address"}),Object($.jsxs)("div",{className:"options",style:{overflow:"scroll",maxHeight:"70vh"},children:[Object($.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr"},children:[Object($.jsx)("span",{}),Object($.jsx)("div",{children:"Mint Name"}),Object($.jsx)("div",{children:"Mint Address"}),Object($.jsx)("div",{children:"Token Account Address"}),Object($.jsx)("div",{children:"Amount"})]}),C.derivedTokenAccounts?C.derivedTokenAccounts.map((function(e,t){return Object($.jsxs)("div",{style:{padding:"0.5rem",border:T===t?"1px solid black":"0px"},children:[Object($.jsx)(we,{tok:e,setChoosen:function(){E(t)}}),Object($.jsx)("br",{})]},"token-derived-account-".concat(t))})):"Loading...",e.includeCustomTokenAccount&&Object($.jsx)("div",{style:{padding:"0.5rem",border:-1===T?"1px solid black":"0px"},children:Object($.jsx)(ge.a,{label:"Custom Token Account",value:j,onChange:function(e){return y(e.target.value)},onFocus:function(){return E(-1)}})}),Object($.jsx)("p",{children:"Or"}),Object($.jsx)("div",{style:{padding:"0.5rem",border:-2===T?"1px solid black":"0px"},children:Object($.jsx)(ge.a,{label:"Custom Mint Account",value:w,onChange:function(e){return S(e.target.value)},onFocus:function(){return E(-2)}})})]})]})});return Object($.jsxs)("div",{children:[Object($.jsx)("button",{type:"button",onClick:function(){P(),b(!0)},children:e.buttonText||"Choose Token Account"}),m&&_]})}var Ie,Ne,Me=function(e){var t;return Object($.jsx)(be.a,{onChange:function(t){e.onChange(Object(s.a)(Object(s.a)({},e.cell),{},{value:e.isWholeNumber?parseInt(t.target.value).toString():t.target.value}))},value:(null===(t=e.cell)||void 0===t?void 0:t.value)||"",type:e.isFractionNumber||e.isWholeNumber?"number":"text"})},Te=function(e){return Object($.jsx)("div",{children:Object($.jsx)(Se,{buttonText:"select",onlyWithInitializedAccounts:e.onlyWithInitialized,onClose:function(t){if(t){var n="token"===e.type?t.account:t.info.mint.toBase58();e.onChange(Object(s.a)(Object(s.a)({},e.cell),{},{value:n}))}}})})},Ee=function(e){var t,n=Object(g.useStore)(B),r=E(n.graph),c=Object(a.useState)(!0),o=Object(p.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(!1),d=Object(p.a)(l,2),f=d[0],m=d[1];return Object($.jsx)("div",{children:Object($.jsx)(ve.a,{active:i,paused:f,children:Object($.jsx)(Oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===(t=e.cell)||void 0===t?void 0:t.value,label:"Age",style:{height:"20px"},children:r.map((function(t){return Object($.jsx)("span",{children:Object($.jsx)(he.a,{style:{zIndex:100},value:t,onMouseOver:function(){return m(!0)},onFocus:function(){return function(t){e.onChange(Object(s.a)(Object(s.a)({},e.cell),{},{value:t})),u(!1)}(t)},children:t})},"select-opts-".concat(t))}))})})})},Ce=function(e){var t;switch(((null===(t=e.cell)||void 0===t?void 0:t.className)||"").split("-")[0]){case r.actionVertex:var n=parseInt(e.cell.className.split("-")[1]||"");return Ee(Object(s.a)(Object(s.a)({},e),{},{nextActionMintIdx:n}));case r.mintAccountOnlyInit:return Te(Object(s.a)(Object(s.a)({},e),{},{type:"mint",onlyWithInitialized:!0}));case r.tokenAccountOnlyInit:return Te(Object(s.a)(Object(s.a)({},e),{},{type:"token",onlyWithInitialized:!0}));case r.mintAccount:return Te(Object(s.a)(Object(s.a)({},e),{},{type:"mint",onlyWithInitialized:!1}));case r.tokenAccount:return Te(Object(s.a)(Object(s.a)({},e),{},{type:"token",onlyWithInitialized:!1}));case r.other:return Me(e);case r.wholeNumber:return Me(Object(s.a)(Object(s.a)({},e),{},{isWholeNumber:!0}));case r.fractionNumber:return Me(Object(s.a)(Object(s.a)({},e),{},{isFractionNumber:!0}));default:return Me(e)}},Re=function(){var e=Object(x.useAnchorWallet)(),t=Object(g.useStore)(B),n=function(){var n=Object(d.a)(l.a.mark((function n(r){var a,c,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.graph[t.selected].input=r,a=t.sourceMint,t.selected!==K){n.next=9;break}if(!(c=N(r))){n.next=9;break}return n.next=7,de(me(e),new O.PublicKey(c));case 7:(o=n.sent)&&(a=o.mint.toBase58());case 9:B.setState(Object(s.a)(Object(s.a)({},t),{},{sourceMint:a,graph:Object(s.a)({},t.graph)}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return t.graph[t.selected]?Object($.jsxs)("div",{className:"card",children:[Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-10",children:Object($.jsxs)("h2",{children:[t.selected," info"]})}),Object($.jsx)("div",{className:"col-2",children:"SOURCE-0"!=t.selected&&Object($.jsx)("button",{onClick:function(){var e=t.selected;if("SOURCE-0"!=e){var n=z.utils.object.deepCloneObject(t.graph);delete n[e];for(var r=0,a=Object.keys(n);r<a.length;r++){var c=a[r],o=n[c].next_actions;if(null!=o&&0!=o.length)for(var i=0;i<o.length;i++)for(var u=1;u<o[i].length;u++){o[i][u][0].value==e&&(console.log(o[i][u][0]),o[i][u][0].value="")}n[c].next_actions=o}B.setState(Object(s.a)(Object(s.a)({},t),{},{selected:K,graph:n}))}},children:"X"})})]}),t.selected===K&&Object($.jsxs)("p",{children:["Source Mint: ",t.sourceMint]}),Object($.jsx)("h5",{children:"Input"}),Object($.jsx)(te.a,{hideColumnIndicators:!0,hideRowIndicators:!0,data:t.graph[t.selected].input,onChange:function(e){return n(e)},DataEditor:Ce}),0!=t.graph[t.selected].next_actions.length&&Object($.jsxs)("div",{children:[Object($.jsx)("br",{}),Object($.jsx)("h5",{children:"Next Action"})]}),t.graph[t.selected].next_actions.map((function(e,n){return Object($.jsxs)("div",{children:[Object($.jsx)(te.a,{hideColumnIndicators:!0,hideRowIndicators:!0,data:t.graph[t.selected].next_actions[n],onChange:function(e){var r=function(e){for(var t=z.utils.object.deepCloneObject(e),n=0;n<t.length;n++)"MINT"===C(t[n][0].value)&&(t[n][1].value="0",t[n][1].readOnly=!0);return t}(e);t.graph[t.selected].next_actions[n]=r,B.setState(Object(s.a)(Object(s.a)({},t),{},{graph:Object(s.a)({},t.graph)})),console.log(t.graph[t.selected].next_actions)},DataEditor:Ce}),Object($.jsx)("br",{}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-2",children:Object($.jsx)("button",{onClick:function(){t.graph[t.selected].next_actions[n]=[].concat(Object(y.a)(t.graph[t.selected].next_actions[n]),[P(n)]),B.setState(Object(s.a)(Object(s.a)({},t),{},{graph:Object(s.a)({},t.graph)})),console.log("new action",t.graph[t.selected].next_actions)},children:"Add"})}),Object($.jsx)("div",{className:"col-2",children:Object($.jsx)("button",{onClick:function(){if(t.graph[t.selected].next_actions[n].length>2){var e=t.graph[t.selected].next_actions[n];t.graph[t.selected].next_actions[0]=e.slice(0,e.length-1),B.setState(Object(s.a)(Object(s.a)({},t),{},{graph:Object(s.a)({},t.graph)})),console.log("remove action",t.graph[t.selected].next_actions)}},children:"Remove"})}),Object($.jsx)("div",{className:"col"})]})]},"next-action-".concat(n))}))]}):Object($.jsxs)($.Fragment,{children:[t.selected," is a non existent action"]})},Pe=n(218),Ke=function(e){var t=Object(g.useStore)(B),n=Object(a.useRef)();return Object(a.useEffect)((function(){for(var e=Object.keys(t.graph).map((function(e,t){return{id:e}})),r=[],a=0,c=Object.keys(t.graph);a<c.length;a++){var o=c[a],i=t.graph[o],s=[];if(null!=i.next_actions&&0!=i.next_actions.length)for(var u=1;u<i.next_actions[0].length;u++){var l=i.next_actions[0][u][0].value;""!=l&&l&&s.push({source:o,target:l,type:"0"})}0!=s.length&&(r=r.concat(s))}var d=0==r.length?[{source:"SOURCE-0",target:"SOURCE-0",type:"0"}]:r;console.log("EDGES",r),console.log("LINKS",d);var p={nodes:e,links:d},f=["0"],m=300,b=300,h=Pe.g(f,Pe.h),O=function(e){Math.hypot(e.target.x-e.source.x,e.target.y-e.source.y);return"\n              M".concat(e.source.x,",").concat(e.source.y,"\n              A",0,",",0," 0 0,1 ").concat(e.target.x,",").concat(e.target.y,"\n            ")};d=p.links.map((function(e){return Object.create(e)})),e=p.nodes.map((function(e){return Object.create(e)}));var x=Pe.d(e).force("link",Pe.b(d).id((function(e){return e.id}))).force("charge",Pe.c().strength(-400)).force("x",Pe.e()).force("y",Pe.f()),v=Pe.i(n.current).attr("viewBox",[-150,-150,m,b]).style("font","12px sans-serif");v.append("rect").attr("x",-300).attr("y",-300).attr("width",600).attr("height",600).attr("fill","white"),v.append("defs").selectAll("marker").data(f).join("marker").attr("id",(function(e){return"arrow-".concat(e)})).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",h).attr("d","M0,-5L10,0L0,5");var j=v.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(d).join("path").attr("stroke",(function(e){return h(e.type)})).attr("marker-end",(function(e){return"url(".concat(new URL("#arrow-".concat(e.type),location),")")})),y=v.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(e).join("g").call(function(e){return Pe.a().on("start",(function(t,n){t.active||e.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y})).on("drag",(function(e,t){t.fx=e.x,t.fy=e.y})).on("end",(function(t,n){t.active||e.alphaTarget(0),n.fx=null,n.fy=null}))}(x));y.append("circle").attr("stroke","white").attr("stroke-width",1.5).attr("r",4),y.append("text").attr("x",8).attr("y","0.31em").text((function(e){return e.id})).clone(!0).lower().attr("fill","none").attr("stroke","white").attr("stroke-width",3),x.on("tick",(function(){j.attr("d",O),y.attr("transform",(function(e){return"translate(".concat(e.x,",").concat(e.y,")")}))}))}),[t]),Object($.jsx)("div",{className:"row justify-content-center",children:Object($.jsx)("svg",{ref:n})})},_e=function(e){if("MALLOC_FLOWCHART_ERROR"===(null===e||void 0===e?void 0:e.type)){var t=e;if(alert(t.msg),t.fullError)throw t.fullError;throw e}var n=z.errors.getReadableErrorMessage(e,{actionNames:E(B.state.graph)});throw alert("An error occured: ".concat(n)),e},De=function(e){return Ue("The token account ".concat(e.toString()," does not exist"))},Be=function(e){return Ue("".concat(e," is not a valid number for the input"))},Le=function(e,t){return Ue(t?"The mint ".concat(e.toString()," found from token ").concat(t.toString()," does not exist"):"The mint ".concat(e.toString()," does not exist"))},Ue=function(e,t){return{msg:e,fullError:t,type:"MALLOC_FLOWCHART_ERROR"}},We=new O.PublicKey(Object(Q.a)().MALLOC_PROGRAM_ID),Fe=function(e){return new z.MallocSdk(We,me(e))},Ge=function(e,t){var n={};return e.map((function(e){n[e[0].value]=e[1].value})),Object(s.a)(Object(s.a)({},n),t)},Ve=function(e,t,n,r){var a=function(e,t){return T(t).filter((function(n){return R(t,n).some((function(t){return t.map((function(e){return e.id})).includes(e)}))}))}(e,n),c=function(e,t,n){return R(n,t).map((function(t){return t.map((function(t){return{actionIdx:e.indexOf(t.id),fraction:t.amount}}))}))}(t,e,n),o=C(e);return{actionTypeUID:q(o),buildActionInputs:Ge(n[e].input,r[e]),actionPID:Z(o),actionMetadata:{ripeAmount:a.length,nextNodes:c}}},He=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r,a,c,o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(t),e.abrupt("return",{actionDatas:r.map((function(e){return Ve(e,r,t,n)})),initialSplits:a,initialActionIndices:c,amount:o});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r,a){var c,o,i,s,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=I(t),e.next=3,de(a,n);case 3:if(o=e.sent){e.next=6;break}throw De(n);case 6:return i=o.mint,e.next=9,pe(a,i);case 9:if(s=e.sent){e.next=12;break}throw Le(i,n);case 12:e.prev=12,u=parseFloat(M(c.input)),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(12),Be(M(c.input));case 19:return d=z.utils.tokens.fromReadableNumber(u,s.decimals),p=R(t,K)[0],e.abrupt("return",{amount:d,initialMint:i,initialSplits:p.map((function(e){return e.amount})),initialActionIndices:p.map((function(e){return r.indexOf(e.id)}))});case 22:case"end":return e.stop()}}),e,null,[[12,16]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Je=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a,c,o,i,s,u,d,p,f,m,b,h,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=B.state,a=r.graph,c=r.hiddenInputData,e.prev=1,o=new O.PublicKey(N(I(a).input)),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),Ue("Please provide a valid source token account");case 8:return i=me(t),s=T(a),u=s.slice(1),e.next=13,Ye(a,o,u,i);case 13:return d=e.sent,p=d.initialSplits,f=d.initialActionIndices,m=d.initialMint,b=d.amount,e.next=20,He(a,c,u,p,f,b);case 20:return h=e.sent,e.next=23,z.builder.buildConstructionFromNonUserSpecific(h,Y,o.toBase58(),m.toBase58(),i);case 23:return x=e.sent,e.abrupt("return",{actions:x.actions,initialSplits:x.initialSplits,amount:x.amount,initialActionIndices:x.initialActionIndices,amountInAccount:o,actionMap:Y,opts:{preferredTokenAccounts:n}});case 25:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fe(n),e.next=3,r.compileConstruction(t);case 3:return a=e.sent,e.next=6,r.runConstruction(a,{splitPrepareAndActions:{prepareCommitment:{skipPreflight:!1,preflightCommitment:"single",commitment:"single"}},commitment:{skipPreflight:!1,preflightCommitment:"single",commitment:"single"}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je(t);case 3:return n=e.sent,e.next=6,ze(n,t);case 6:r=e.sent,alert("DONE AND SUCCESSFUL with tx: ".concat(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),_e(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Xe=new Uint8Array([8,57,204,222,105,129,113,8,245,54,20,45,122,175,82,37,32,44,46,6,54,35,168,208,213,194,164,50,97,226,134,119,136,196,213,189,243,233,16,53,22,220,245,4,17,203,251,233,20,7,178,5,36,19,66,89,210,148,19,225,117,61,214,253]),qe=new fe.b(O.Keypair.fromSecretKey(Xe)),Ze=function(e){return new ne.Provider(new O.Connection(e),qe,{commitment:"confirmed"})},$e=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et(new O.PublicKey(Object(Q.a)().demo.FAKE_USDC),t,Ze(Object(Q.a)().solana.RPC));case 3:return n=e.sent,e.next=6,tt(new O.PublicKey(Object(Q.a)().demo.FAKE_USDC_GD),[n]);case 6:alert("Done with your airdrop"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert("An error occurred with the airdrop ".concat(JSON.stringify(e.t0)));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.PublicKey.findProgramAddress([n.toBuffer(),re.TOKEN_PROGRAM_ID.toBuffer(),new O.PublicKey(t).toBuffer()],re.ASSOCIATED_TOKEN_PROGRAM_ID);case 2:return a=e.sent[0],e.next=5,r.connection.getAccountInfo(a);case 5:if(e.sent){e.next=13;break}return c=re.Token.createAssociatedTokenAccountInstruction(re.ASSOCIATED_TOKEN_PROGRAM_ID,re.TOKEN_PROGRAM_ID,t,a,n,r.wallet.publicKey),(o=new O.Transaction).add(c),e.next=12,r.send(o,[]);case 12:case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),tt=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6,r=4*Math.pow(10,6),a=new O.Transaction,n.map((function(e){a.add(re.Token.createTransferInstruction(re.TOKEN_PROGRAM_ID,t,e,qe.publicKey,[],r))})),e.next=6,Ze(Object(Q.a)().solana.RPC).send(a,[],{skipPreflight:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){Object(g.useStore)(B);var e=Object(x.useAnchorWallet)(),t=Object(a.useState)(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(p.a)(o,2),s=i[0],u=i[1];return Object($.jsxs)("div",{className:"card",children:[Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-8",children:Object($.jsx)("h2",{children:"Visualizer"})}),Object($.jsx)("div",{className:"col",children:Object($.jsx)("button",{onClick:function(){return L()},children:"Import"})}),Object($.jsx)("div",{className:"col",children:Object($.jsx)("button",{onClick:function(){return U()},children:"Export"})})]}),Object($.jsx)(Ke,{}),Object($.jsx)("br",{}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col",children:Object($.jsx)("button",{disabled:s,onClick:function(){u(!0),Qe(e).then((function(e){return u(!1)})).catch((function(e){return u(!1)}))},children:s?"Running...":"Compile and Run"})}),Object($.jsx)("div",{className:"col",children:Object($.jsx)("button",{onClick:function(){c(!0),$e(e.publicKey).then((function(e){return c(!1)}))},disabled:r,children:r?"Loading Airdrop...":"Airdrop Fake USDC"})}),Object($.jsx)("div",{className:"col-6"})]})]})},rt=function(){Object(g.useStore)(B);return Object($.jsx)("div",{className:"container",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsxs)("div",{className:"col-4",children:[Object($.jsx)(ee,{}),Object($.jsx)("br",{}),Object($.jsx)(Re,{})]}),Object($.jsx)("div",{className:"col-4",children:Object($.jsx)(nt,{})})]})})},at=Object(m.a)(v.WalletDialogButton)(Ie||(Ie=Object(f.a)([""]))),ct=(m.a.span(Ne||(Ne=Object(f.a)([""]))),function(e){var t,n=Object(a.useState)(),r=Object(p.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(!1),u=Object(p.a)(i,2),f=(u[0],u[1],Object(a.useState)(!1)),m=Object(p.a)(f,2),v=(m[0],m[1],Object(a.useState)(!1)),y=Object(p.a)(v,2),g=(y[0],y[1],Object(a.useState)({open:!1,message:"",severity:void 0})),A=Object(p.a)(g,2),k=A[0],w=A[1],S=Object(x.useWallet)();return Object(a.useEffect)((function(){Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===S||void 0===S?void 0:S.publicKey)){t.next=5;break}return t.next=3,e.connection.getBalance(S.publicKey);case 3:n=t.sent,o(n/O.LAMPORTS_PER_SOL);case 5:case"end":return t.stop()}}),t)})))()}),[S,e.connection]),Object($.jsxs)("main",{children:[Object($.jsxs)("nav",{className:"navbar navbar-light bg-light",children:[Object($.jsx)("div",{className:"col-6",children:Object($.jsx)("h1",{className:"text-start",children:" MALLOC Protocol"})}),Object($.jsxs)("div",{className:"col-3",children:[S.connected&&Object($.jsx)("div",{children:Object($.jsxs)("p",{style:{marginTop:0},children:["Address: ",Object(j.a)((null===(t=S.publicKey)||void 0===t?void 0:t.toBase58())||"")," , Balance: ",(c||0).toLocaleString()," SOL"]})}),!S.connected&&Object($.jsx)(at,{children:"Connect Wallet"})]}),Object($.jsx)("div",{className:"col",children:Object($.jsx)("a",{href:"https://github.com/Lev-Stambler/malloc-solana2",target:"_blank",children:"Github"})}),Object($.jsx)("div",{className:"col-1",children:Object($.jsx)("a",{href:"https://twitter.com/MallocProtocol",target:"_blank",children:"Twitter"})}),Object($.jsx)("div",{className:"col-1",children:Object($.jsx)("a",{href:"mailto:mallocprotocol@gmail.com",target:"_blank",children:"Contact"})})]}),Object($.jsx)(b.a,{open:k.open,autoHideDuration:6e3,onClose:function(){return w(Object(s.a)(Object(s.a)({},k),{},{open:!1}))},children:Object($.jsx)(h.a,{onClose:function(){return w(Object(s.a)(Object(s.a)({},k),{},{open:!1}))},severity:k.severity,children:k.message})}),Object($.jsx)("br",{}),S.connected&&Object($.jsx)(rt,{})]})}),ot=n(518),it=new fe.d.PublicKey(Object(Q.a)().MALLOC_PROGRAM_ID),st=Object(Q.a)().solana.NETWORK,ut=Object(Q.a)().solana.RPC,lt=new fe.d.Connection(ut),dt=function(){var e=Object(a.useMemo)((function(){return Object(O.clusterApiUrl)(st)}),[]),t=Object(a.useMemo)((function(){return[Object(ot.getPhantomWallet)(),Object(ot.getSolflareWallet)(),Object(ot.getSolletWallet)()]}),[]);return Object($.jsx)(x.ConnectionProvider,{endpoint:e,children:Object($.jsx)(x.WalletProvider,{wallets:t,autoConnect:!0,children:Object($.jsx)(v.WalletDialogProvider,{children:Object($.jsx)(ct,{config:it,connection:lt,txTimeout:3e4})})})})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1714)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object($.jsx)(c.a.StrictMode,{children:Object($.jsx)(dt,{})}),document.getElementById("root")),pt()},217:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e[e.Bid=0]="Bid",e[e.Ask=1]="Ask"}(r||(r={})),function(e){e[e.BasicSwap=0]="BasicSwap"}(a||(a={}))},229:function(e,t,n){"use strict";n.r(t),n.d(t,"tryCreateAssociatedAccountInst",(function(){return l})),n.d(t,"tryCreateAssociatedAccount",(function(){return d})),n.d(t,"transferToTx",(function(){return p})),n.d(t,"getTokenAccountUsedByMalloc",(function(){return f})),n.d(t,"createTokenAccountsForActions",(function(){return m})),n.d(t,"toReadableNumber",(function(){return x})),n.d(t,"fromReadableNumber",(function(){return v}));var r=n(17),a=n(0),c=n.n(a),o=n(5),i=n(993),s=n(152),u=n(113),l=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.findProgramAddress([n.toBuffer(),s.b.toBuffer(),new u.b(t).toBuffer()],s.a);case 2:return o=e.sent[0],e.next=5,r.getAccountInfo(o);case 5:if(e.sent){e.next=11;break}return i=s.c.createAssociatedTokenAccountInstruction(s.a,s.b,new u.b(t),o,n,a),e.abrupt("return",{instr:i,associateTokAccount:o});case 11:return e.abrupt("return",{associateTokAccount:o});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){var a,o,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n,r.connection,r.wallet.publicKey);case 2:if(a=e.sent,o=a.associateTokAccount,i=a.instr){e.next=7;break}return e.abrupt("return",o);case 7:return(s=new u.d).add(i),e.next=11,r.send(s);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.secretKey?[a]:[],s=Object(i.transfer)({source:t,destination:n,amount:r,owner:a.publicKey}),(l=new u.d).add(s),e.abrupt("return",{tx:l,signers:o});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!r[n.toBase58()]){e.next=2;break}return e.abrupt("return",r[n.toBase58()]);case 2:return e.next=4,b(t,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a,i,l){var d,p,f,m,O,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=h(a.map((function(e){var t,n,a=[];if(null===(t=e.tokenCreationOptions)||void 0===t?void 0:t.skipOutTokenCreations){var c=e.tokenCreationOptions.skipOutTokenCreations;console.log(c),e.tokenMintOuts.forEach((function(e,t){c.includes(t)||a.push(e)}))}else a.push.apply(a,Object(r.a)(e.tokenMintOuts));return!0===(null===(n=e.tokenCreationOptions)||void 0===n?void 0:n.skipInTokenCreation)||a.push(e.tokenMintIn),a})).flat()),console.log(d),p={},f=0;case 4:if(!(f<d.length)){e.next=17;break}if(m=d[f],!(l||{})[m]){e.next=10;break}p[m]={publicKey:l[m]},e.next=14;break;case 10:return e.next=12,b(n.publicKey,m);case 12:O=e.sent,p[m]={publicKey:O};case 14:f++,e.next=4;break;case 17:return e.next=19,Promise.all(d.map(function(){var e=Object(o.a)(c.a.mark((function e(r){var a,o,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p[r].publicKey,e.next=3,t.connection.getAccountInfo(a);case 3:if(!e.sent){e.next=7;break}return console.log("ALREADY EXISTS"),e.abrupt("return",null);case 7:return o=s.c.createAssociatedTokenAccountInstruction(s.a,s.b,new u.b(r),p[r].publicKey,n.publicKey,i.publicKey),(l=new u.d).add(o),d=i.secretKey?[i]:[],e.abrupt("return",{tx:l,signers:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:return x=e.sent,e.abrupt("return",{accounts:p,txs:x.filter((function(e){return!!e}))});case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.findProgramAddress([t.toBuffer(),s.b.toBuffer(),new u.b(n).toBuffer()],s.a);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return Object(r.a)(new Set(e.map(O)))},O=function(e){return e.toBase58()},x=function(e,t){var n=e.toString(),r=n.substring(0,n.length-t)||"0",a=n.substring(n.length-t).padStart(t,"0").substring(0,t);return"".concat(function(e){for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}(r),".").concat(a).replace(/\.?0*$/,"")},v=function(e,t){var n,r=e.toString().split("."),a=r[0],c=r[1]||"";if(r.length>2||c.length>t)throw new Error("Cannot parse '".concat(e,"' as token amount"));return""===(n=(n=a+c.padEnd(t,"0")).replace(/^0+/,""))?"0":n}},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i}));var r=2e4,a=5184e5,c=5184e5,o=19.055,i=1728e5},377:function(e,t,n){"use strict";n.r(t),n.d(t,"deepCloneObject",(function(){return r})),n.d(t,"findAllIndexes",(function(){return a}));var r=function(e){return function e(t){if(null==t||"object"!=typeof t)return t;var n=t.constructor();for(var r in t)n[r]=e(t[r]);return n}(e)},a=function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(r);return n}},384:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n(0),n(5);var r=n(133),a=(n(72),n(125),n(88),n(54),new r.d.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new r.d.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))})}).call(this,n(6).Buffer)},446:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),c=n(17),o=n(5),i=n(30),s=n(72),u=n(334),l=n(996),d=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o,l,d){var f,m,b,h,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=parseInt(t.decimals),m=new i.b,b=s.utils.tokens.fromReadableNumber(parseFloat(t.amountOut),f),e.next=5,s.utils.tokens.getTokenAccountUsedByMalloc(l.wallet.publicKey,m.publicKey,null===d||void 0===d?void 0:d.preferredTokenAccounts);case 5:return h=e.sent,O=new i.c(t.authority||l.wallet.publicKey),e.t0=p(b.toString()),e.t1=[h],e.t2=[],e.t3=new i.c(o),e.t4=new i.c(n),e.t5=[m.publicKey],e.t6=[m],e.t7={skipOutTokenCreations:[0]},e.t8=c.a,e.next=18,Object(u.createMintInstructions)(l,O,m.publicKey,f);case 18:return e.t9=e.sent,e.t10=(0,e.t8)(e.t9),e.t11={addDefaultTokAccounts:!1,actionData:e.t0,tokenAccountOuts:e.t1,actionAccounts:e.t2,actionProgram:e.t3,tokenMintIn:e.t4,tokenMintOuts:e.t5,additionalSigners:e.t6,tokenCreationOptions:e.t7,instructions:e.t10},e.abrupt("return",{isolatedAction:e.t11});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),p=function(t){return e.from("[".concat(t,"]"))},f={buildIsolatedAction:d,actionTypeUID:"MALLOC_SPL_MINT",expectedNumberOfOutMints:1,idl:l};t.a=f}).call(this,n(6).Buffer)},451:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(0),a=n.n(r),c=n(17),o=n(5),i=n(7),s=n(26),u=n(27),l=n(72),d=n(997),p=n(998),f=n(110),m=n(30),b=n(334),h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(l.utils.serde.Assignable),O=new Map([[h,{kind:"struct",fields:[["amount_override",{kind:"option",type:"u64"}]]}]]),x={buildIsolatedAction:function(){var t=Object(o.a)(a.a.mark((function t(n,r,o,i,s){var u,d,x,v,j,y,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=n.authoritySecret?m.b.fromSecretKey(new Uint8Array(e.from(n.authoritySecret,"hex"))):void 0,d=n.createMintSecretKey?m.b.fromSecretKey(new Uint8Array(e.from(n.createMintSecretKey,"hex"))):new m.b,t.next=4,l.utils.tokens.getTokenAccountUsedByMalloc(s.wallet.publicKey,d.publicKey);case 4:return x=t.sent,v=l.utils.tokens.fromReadableNumber(parseFloat(n.initialSupply),n.decimals),j=[],y=new m.c(s.wallet.publicKey),g=new m.f,t.t0=g.add,t.t1=g,t.t2=c.a,t.next=14,Object(b.createMintInstructions)(s,y,d.publicKey,n.decimals);case 14:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),j.push({tx:g,signers:[d]}),t.abrupt("return",{isolatedAction:{tokenMintIn:new m.c(r),actionData:(a=v,e.from(Object(p.serialize)(O,new h({amount_override:new f.u64(a)})))),actionProgram:new m.c(i),actionAccounts:[{address:d.publicKey,isWriteable:!0},{address:x,isWriteable:!0},{address:(null===u||void 0===u?void 0:u.publicKey)||s.wallet.publicKey,isSigner:!0},{address:f.TOKEN_PROGRAM_ID}],additionalSigners:u?[u]:[],tokenMintOuts:[d.publicKey],tokenAccountOuts:[x],atStartOfPrepareTxs:j}});case 19:case"end":return t.stop()}var a}),t)})));return function(e,n,r,a,c){return t.apply(this,arguments)}}(),actionTypeUID:"MALLOC_SPL_MINT_TO",expectedNumberOfOutMints:1,idl:d}}).call(this,n(6).Buffer)},452:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),c=n(5),o=n(30),i=n(999),s=n(229),u=n(1e3),l=n(110),d=n(1001),p={buildIsolatedAction:function(){var t=Object(c.a)(a.a.mark((function t(n,r,c,d,p,f){var m,b,h,O,x,v,j,y,g,A,k,w;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b=new o.c(r),h=new o.c(c),O=i.devnetConfig,x=null===(m=O.assets.find((function(e){return e.mintAddress===r})))||void 0===m?void 0:m.symbol){t.next=6;break}throw"Looks like solend does not support token of mint ".concat(r);case 6:if(v=O.markets[0],j=v.reserves.find((function(e){return e.asset===x}))){t.next=10;break}throw"Looks like Solend does not have a market for ".concat(x);case 10:return y=new o.c(j.collateralMintAddress),t.next=13,Object(s.getTokenAccountUsedByMalloc)(p.wallet.publicKey,y,f);case 13:if(g=t.sent,A=O.oracles.assets.find((function(e){return e.asset===x}))){t.next=17;break}throw"Could not find the oracle for ".concat(x);case 17:return k=Object(u.a)(new o.c(j.address),new o.c(A.priceAddress)),w=k.data,t.abrupt("return",{isolatedAction:{tokenMintIn:b,actionData:e.from([]),actionProgram:new o.c(d),actionAccounts:[{address:new o.c(O.programID)},{address:b},{address:h,isWriteable:!0},{address:g,isWriteable:!0},{address:new o.c(j.address),isWriteable:!0},{address:new o.c(j.liquidityAddress),isWriteable:!0},{address:y,isWriteable:!0},{address:new o.c(v.address),isWriteable:!1},{address:new o.c(v.authorityAddress)},{address:p.wallet.publicKey,isSigner:!0},{address:o.d},{address:l.TOKEN_PROGRAM_ID}],instructions:[new o.g({data:w,programId:new o.c(O.programID),keys:[{pubkey:new o.c(j.address),isWritable:!0,isSigner:!1},{pubkey:new o.c(A.priceAddress),isWritable:!1,isSigner:!1},{pubkey:new o.c(A.switchboardFeedAddress),isWritable:!1,isSigner:!1},{pubkey:o.d,isSigner:!1,isWritable:!1}]})],additionalSigners:[],tokenMintOuts:[y],tokenAccountOuts:[g]}});case 19:case"end":return t.stop()}}),t)})));return function(e,n,r,a,c,o){return t.apply(this,arguments)}}(),actionTypeUID:"MALLOC_SPL_SOLEND",expectedNumberOfOutMints:1,idl:d}}).call(this,n(6).Buffer)},453:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));n(12);var r=n(17),a=n(20),c=n(0),o=n.n(c),i=n(5),s=n(30),u=n(110),l=n(1002),d=n(217),p=n(72),f=n(500),m=n(291),b=n(334),h=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,a,c,i){var l,f,m,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.utils.tokens.getTokenAccountUsedByMalloc(c.wallet.publicKey,new s.c(t.outMint),null===i||void 0===i?void 0:i.preferredTokenAccounts);case 2:return l=e.sent,e.next=5,O(t,n,r,l.toBase58(),c);case 5:return f=e.sent,e.next=8,w(c,new s.c(n));case 8:return m=e.sent,b=p.utils.tokens.fromReadableNumber(parseFloat(t.minOut),m.decimals),e.abrupt("return",{isolatedAction:{addDefaultTokAccounts:!1,actionData:j(d.b.BasicSwap,f.side,new u.u64(b)),tokenAccountOuts:[l],actionAccounts:y(f.swapAccounts,f.side),actionProgram:new s.c(a),tokenMintIn:new s.c(n),tokenMintOuts:[new s.c(t.outMint)],preActionTxs:f.openOrderInitTx?[f.openOrderInitTx]:[]}});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,c,i){var l,p,f,b,h,O,j,y,A,k,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new s.c(t.serumDexProgramId),e.next=3,v(i.connection,new s.c(n),new s.c(t.outMint),l);case 3:if(p=e.sent){e.next=6;break}throw"No markets found";case 6:return f=p.side,b=p.pk,e.next=9,m.Market.load(i.connection,b,{},l);case 9:return h=e.sent,e.next=12,x(i.connection,h,i.wallet.publicKey,new s.c(t.serumDexProgramId));case 12:return O=e.sent,e.next=15,g(h.decoded.ownAddress,new s.c(t.serumDexProgramId));case 15:return j=e.sent,y=Object(a.a)(j,2),A=y[0],y[1],k=f===d.a.Bid?c:r,w=f===d.a.Bid?r:c,e.abrupt("return",{market:h,swapAccounts:{market:{market:h.decoded.ownAddress,requestQueue:h.decoded.requestQueue,eventQueue:h.decoded.eventQueue,bids:h.decoded.bids,asks:h.decoded.asks,coinVault:h.decoded.baseVault,pcVault:h.decoded.quoteVault,vaultSigner:A,openOrders:new s.c(t.openOrdersAccount||O.openOrderPk),orderPayerTokenAccount:new s.c(r),coinWallet:new s.c(k)},pcWallet:new s.c(w),authority:i.wallet.publicKey,dexProgram:new s.c(t.serumDexProgramId),tokenProgram:new s.c(u.TOKEN_PROGRAM_ID),rent:new s.c(t.rent)},openOrderInitTx:t.openOrdersAccount?void 0:O.openOrderTx,side:f});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,a){var c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.OpenOrders.findForMarketAndOwner(t,n.address,r,a);case 2:if(0!==(c=e.sent).length){e.next=14;break}return i=new s.a((new s.b).secretKey),u=new s.f,e.t0=u,e.next=9,m.OpenOrders.makeCreateAccountTransaction(t,n.decoded.ownAddress,r,i.publicKey,a);case 9:return e.t1=e.sent,e.t0.add.call(e.t0,e.t1),e.abrupt("return",{openOrderPk:i.publicKey,openOrderTx:{tx:u,signers:[i]}});case 14:return e.abrupt("return",{openOrderPk:c[0].publicKey});case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,a){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.a.Ask,e.next=3,k(t,n,r,a);case 3:if((i=e.sent)&&0!==i.length){e.next=9;break}return e.next=7,k(t,r,n,a);case 7:i=e.sent,c=d.a.Bid;case 9:if(i&&0!==i.length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",{pk:i[0],side:c});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),j=function(t,n,a){var c=a.toArrayLike(e,"be",8);return e.from(new Uint8Array([t,n].concat(Object(r.a)(c))))},y=function(e,t,n){var r=t===d.a.Bid?e.pcWallet:e.market.coinWallet,a=t===d.a.Bid?e.market.coinWallet:e.pcWallet,c=[{isWriteable:!0,address:r},{address:e.tokenProgram},{address:e.authority,isSigner:!0},{address:e.rent},{address:e.dexProgram},{address:a,isWriteable:!0},{address:e.market.market,isWriteable:!0},{address:e.market.openOrders,isWriteable:!0},{address:e.market.requestQueue,isWriteable:!0},{address:e.market.eventQueue,isWriteable:!0},{address:e.market.bids,isWriteable:!0},{address:e.market.asks,isWriteable:!0},{address:e.market.orderPayerTokenAccount,isWriteable:!0},{address:e.market.coinVault,isWriteable:!0},{address:e.market.pcVault,isWriteable:!0},{address:e.market.vaultSigner}];return n&&c.push({address:n,isWriteable:!0}),c};function g(e,t){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(o.a.mark((function t(n,r){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new f.a(0);case 1:if(!(a.toNumber()<255)){t.next=14;break}return t.prev=2,t.next=5,s.c.createProgramAddress([n.toBuffer(),a.toArrayLike(e,"le",8)],r);case 5:return c=t.sent,t.abrupt("return",[c,a]);case 9:t.prev=9,t.t0=t.catch(2),a.iaddn(1);case 12:t.next=1;break;case 14:throw new Error("Unable to find nonce");case 15:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var k=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Market.getLayout(a);case 2:return e.sent,e.next=5,m.Market.findAccountsByMints(t,n,r,a);case 5:return e.abrupt("return",e.sent.map((function(e){return e.publicKey})));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.connection.getAccountInfo(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",Object(b.parseMintAccount)(r.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S={buildIsolatedAction:h,actionTypeUID:"MALLOC_SPL_SWAP",expectedNumberOfOutMints:1,idl:l};t.b=S}).call(this,n(6).Buffer)},462:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(0),a=n.n(r),c=n(5),o=n(72),i=n(30),s=n(1006),u="MALLOC_SPL_TRANSFER",l={buildIsolatedAction:function(){var t=Object(c.a)(a.a.mark((function t(n,r,c,s,l){var d,p,f,m,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=new i.c(r),p=new i.c(n.recipientWallet),t.next=4,o.utils.tokens.tryCreateAssociatedAccountInst(d,p,l.connection,l.wallet.publicKey);case 4:return f=t.sent,m=f.associateTokAccount,b=f.instr,t.abrupt("return",{isolatedAction:{actionTypeUID:u,addDefaultTokAccounts:!0,tokenMintIn:d,actionData:e.from([]),actionProgram:new i.c(s),actionAccounts:[{address:m,isWriteable:!0}],additionalSigners:[],tokenMintOuts:[],tokenAccountOuts:[],instructions:b&&!p.equals(l.wallet.publicKey)?[b]:void 0}});case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a,c){return t.apply(this,arguments)}}(),actionTypeUID:u,expectedNumberOfOutMints:0,idl:s}}).call(this,n(6).Buffer)},489:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"malloc","instructions":[{"name":"initConstruction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":false}],"args":[{"name":"expectedNumbNodes","type":"u32"}]},{"name":"addActions","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"actions","type":{"vec":{"defined":"ActionNode"}}}]},{"name":"prepareConstruction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"initActionIdx","type":{"vec":"u32"}},{"name":"initSplits","type":{"vec":"u64"}},{"name":"amount","type":"u64"}]},{"name":"processActionNextInReady","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"construction","isMut":true,"isSigner":false},{"name":"actionCtxProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionProgram","isMut":false,"isSigner":false}]},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"data","type":"bytes"}]},{"name":"processAction","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"construction","isMut":true,"isSigner":false},{"name":"actionCtxProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionProgram","isMut":false,"isSigner":false}]},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"nextActionIdx","type":"u32"},{"name":"data","type":"bytes"}]},{"name":"closeConstruction","accounts":[{"name":"construction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Construction","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"actions","type":{"vec":{"defined":"ActionNode"}}},{"name":"actionCalls","type":{"vec":{"defined":"ActionCall"}}},{"name":"readyCallIdxList","type":{"vec":"u32"}}]}}],"types":[{"name":"ActionNode","type":{"kind":"struct","fields":[{"name":"nextNodes","type":{"vec":{"vec":{"defined":"NextNode"}}}},{"name":"tokenAccount","type":"publicKey"},{"name":"ripeAmount","type":"u32"}]}},{"name":"NextNode","type":{"kind":"struct","fields":[{"name":"actionIdx","type":"u32"},{"name":"fraction","type":"u64"}]}},{"name":"ActionCall","type":{"kind":"struct","fields":[{"name":"callAmount","type":"u64"},{"name":"numbTimesHit","type":"u32"}]}}],"errors":[{"code":300,"name":"IncorrectConstructionShape","msg":"Incorrect construction shape"},{"code":301,"name":"IncorrectNextActionsShape","msg":"Incorrect next actions shape"},{"code":302,"name":"RipeningNotReached","msg":"Ripening amount not met for given next action index"},{"code":303,"name":"ActionIndexNotFoundInNext","msg":"Action index not found in the next action list"},{"code":304,"name":"GivenTokenAccountDoesNotMatchExpected","msg":"Next token does not equal the given token account"},{"code":305,"name":"IncorrectActionResultShape","msg":"Incorrect action result shape"},{"code":306,"name":"NumbAmountsDNENumbNodes","msg":"Number of amounts does not equal number of nodes"},{"code":307,"name":"ReadyCallIdxListEmpty","msg":"Ready call action index list is empty"},{"code":308,"name":"NumbSplitResultAmountsDNENumbNodes","msg":"Number of amounts out from calculating the split does not equal the number of nodes"},{"code":309,"name":"Expected0ForRipeOfInitNodes","msg":"Expected all initial nodes in the construction to have a ripe count of 0"},{"code":310,"name":"CannotChangeTokenAccountAfterBeingSet","msg":"Cannot change the token account of an action call after it is already set"},{"code":311,"name":"ActionHitMoreThanAllowed","msg":"Action hit more times than maximum hit allowed (i.e. the ripe amount)"}],"metadata":{"address":"3PAE1zWeifZJ2Cnv3SGQ2eBPusyVwAGYApc3LyGjK3EC"}}')},491:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(17),c=function(e,t){var n=Object(a.a)(Array(e.length)).fill(0);return o(e.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{id:t})})),n,t)},o=function e(t,n,r){if(0===r.length)return[];var c=n.map((function(e,t){return i(r,t)+e})),o=t.filter((function(e){return e.ripeAmount===c[e.id]&&r.includes(e.id)})),s=o.map((function(e){return e.nextNodes.map((function(e){return e.map((function(e){return e.actionIdx}))}))})).flat().flat();return[].concat(Object(a.a)(o.map((function(e){return e.id}))),Object(a.a)(e(t,c,s)))},i=function(e,t){return e.filter((function(e){return e===t})).length}},652:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(264),a=function(e,t){return Math.ceil(r.b*e*(t/r.e))}},72:function(e,t,n){"use strict";var r=n(818);n.d(t,"MallocSdk",(function(){return r.a}));n(844);var a=n(982);n.d(t,"utils",(function(){return a}));n(847);var c=n(848);n.d(t,"builder",(function(){return c}));var o=n(980);n.d(t,"errors",(function(){return o}));n(489)},818:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(12),a=n(17),c=n(0),o=n.n(c),i=n(5),s=n(7),u=n(10),l=n(489),d=n(989),p=n(137),f=n(152),m=n(113),b=n(264),h=n(491),O=n(652),x=n(229),v=n(72),j=function(){function e(t,n){Object(s.a)(this,e),this.MALLOC_PROGRAM_ID=t,this.provider=n,this.mallocProgram=void 0,this.mallocProgram=new p.b(l,t,n)}return Object(u.a)(e,[{key:"compileConstruction",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._compileConstructions(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_compileConstructions",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,c,i,s,u,l,m,b,O,j,N,T,E,C,R,P,K,_,D,B,L,U,W,F,G,V,H,Y,J=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.actions,r=t.initialSplits,c=t.initialActionIndices,i=t.amount,s=t.authority,u=t.amountInAccount,l=t.actionMap,m=t.amountInAuthority,b=t.opts,O=m||this.provider.wallet,j=s||this.provider.wallet,e.next=5,Object(x.createTokenAccountsForActions)(this.provider,j,n,this.provider.wallet,null===b||void 0===b?void 0:b.preferredTokenAccounts);case 5:return N=e.sent,T=N.accounts,E=N.txs,e.next=10,g(this.mallocProgram,j.publicKey,n.length);case 10:if(C=e.sent,R=C.construction,P=C.tx,K=A(this.mallocProgram,R.publicKey,n.map((function(e){return e.actionMetadata})),j),M(c.map((function(e){return n[e]})))){e.next=16;break}throw v.errors.newCompilerError("Expected all initial token types to be the same");case 16:if(0!==c.length){e.next=18;break}throw v.errors.newCompilerError("Expected initial actions to have length more than 0");case 18:return _=n[c[0]].tokenMintIn,e.next=21,Object(x.transferToTx)(u,T[_.toBase58()].publicKey,new p.a(i),O);case 21:if(D=e.sent,B=w(this.mallocProgram,R.publicKey,c,r,j,new p.a(i)),(L=Object(h.a)(n.map((function(e){return e.actionMetadata})),c)).length===n.length){e.next=26;break}throw v.errors.newCompilerError("An error occurred trying to forecast your construction");case 26:return e.next=28,Promise.all(n.map((function(e){return I(new p.b(d,e.actionProgram,J.provider),e.actionMetadata.nextNodes.length)})));case 28:return U=e.sent,W=n.map((function(e,t){var n=e.addDefaultTokAccounts?[{address:T[e.tokenMintIn.toBase58()].publicKey,isWriteable:!0,isSigner:!1},{address:f.b,isWriteable:!1,isSigner:!1},{address:j.publicKey,isSigner:!0,isWriteable:!1}]:[];return{ctx:{resultAccount:U[t].resultAccount.publicKey,actionProgram:e.actionProgram},actionAccounts:[].concat(n,Object(a.a)(e.actionAccounts))}})),F=L.map((function(e){return S(J.mallocProgram,e,R.publicKey,W[e],j,{data:n[e].actionData,instructions:n[e].instructions,additionalSigners:n[e].additionalSigners,preActionTxs:n[e].preActionTxs})})),G=y(n,l),V=k(n),H=[].concat(Object(a.a)(V),Object(a.a)(E),[D,P,K,B],Object(a.a)(U.map((function(e){return e.tx})))),Y=Object(a.a)(F.flat()),e.abrupt("return",{construction:R,txsPrepare:H,txsActionCalls:Y,tokenAccounts:T,resultAccounts:U.map((function(e){return e.resultAccount})),actionMap:l,actionPIDToUID:G});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConstructionState",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mallocProgram.account.construction.fetch(t.construction.publicKey);case 2:return n=e.sent,r=function(e){return{tokenAccount:new m.b(e.tokenAccount).toBase58(),ripeAmount:e.ripeAmount,nextNodes:e.nextNodes.map((function(e){return e.map((function(e){return{actionIdx:e.actionIdx,fraction:new p.a(e.fraction).toString()}}))}))}},a=function(e){return{numbTimesHit:e.numbTimesHit,callAmount:new p.a(e.callAmount).toString()}},e.abrupt("return",{construction:{authority:new m.b(n.authority).toBase58(),actions:n.actions.map(r),actionCalls:n.actionCalls.map(a),readyCallIdxList:n.readyCallIdxList}});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEphemeralAccounts",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(e){}),t.construction;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"runConstruction",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._runConstruction(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),v.errors.newRunError(e.t0,t.actionMap,t.actionPIDToUID);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_runConstruction",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider;case 2:if(!n.splitPrepareAndActions){e.next=20;break}if(!(t.txsPrepare.length>0)){e.next=9;break}return e.next=6,this.provider.sendAll(t.txsPrepare,Object(r.a)({},(null===n||void 0===n?void 0:n.splitPrepareAndActions.prepareCommitment)||{}));case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=[];case 10:if(c=e.t0,!((null===n||void 0===n?void 0:n.splitPrepareAndActions.onPrepareAccountsDone)&&c.length>0)){e.next=14;break}return e.next=14,n.splitPrepareAndActions.onPrepareAccountsDone(c);case 14:return e.next=16,this.provider.sendAll(t.txsActionCalls,Object(r.a)({preflightCommitment:"single",commitment:"single"},(null===n||void 0===n?void 0:n.commitment)||{}));case 16:return i=e.sent,e.abrupt("return",[].concat(Object(a.a)(c),Object(a.a)(i)));case 20:return e.next=22,this.provider.sendAll([].concat(Object(a.a)(t.txsPrepare),Object(a.a)(t.txsActionCalls)));case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=function(e,t){var n={};return e.forEach((function(e){n[e.actionProgram.toBase58()]=e.actionTypeUID})),n},g=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.d.Keypair.generate(),e.t0=t.transaction,e.t1=r,e.t2={construction:a.publicKey,authority:n,rent:p.d.SYSVAR_RENT_PUBKEY},e.t3=[a],e.next=7,m.c.createAccount({fromPubkey:t.provider.wallet.publicKey,newAccountPubkey:a.publicKey,space:b.a+8,lamports:Object(O.a)(b.a+8,b.c),programId:t.programId});case 7:return e.t4=e.sent,e.t5=[e.t4],e.t6={accounts:e.t2,signers:e.t3,instructions:e.t5},c=e.t0.initConstruction.call(e.t0,e.t1,e.t6),e.abrupt("return",{tx:{tx:c,signers:[a]},construction:a});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(e,t,n,r){var a=r.secretKey?[r]:[],c=n.map((function(e){return{ripeAmount:e.ripeAmount,nextNodes:e.nextNodes.map((function(e){return e.map((function(e){return{actionIdx:e.actionIdx,fraction:new f.d(e.fraction)}}))}))}}));return{tx:e.transaction.addActions(c,{accounts:{authority:r.publicKey,construction:t,rent:p.d.SYSVAR_RENT_PUBKEY},signers:a}),signers:a}},k=function(e){return e.map((function(e){return e.atStartOfPrepareTxs||[]})).flat()},w=function(e,t,n,r,a,c){var o=a.secretKey?[a]:[];return{tx:e.transaction.prepareConstruction(n,r.map((function(e){return new p.a(e)})),c,{accounts:{authority:a.publicKey,construction:t,rent:p.d.SYSVAR_RENT_PUBKEY},signers:o}),signers:o}},S=function(t,n,r,c,o,i){var s,u=(null===o||void 0===o?void 0:o.secretKey)?[o]:[],l=(null===(s=i.tokenAuthority)||void 0===s?void 0:s.secretKey)?[i.tokenAuthority]:[],d=i.tokenAuthority?[].concat(l,u):[].concat(u),f=[].concat(Object(a.a)(d),Object(a.a)(i.additionalSigners||[]));return[].concat(Object(a.a)(i.preActionTxs||[]),[{tx:t.transaction.processAction(n,i.data||e.from([]),{accounts:{construction:r,rent:p.d.SYSVAR_RENT_PUBKEY,authority:o.publicKey,actionCtxProxy:c.ctx,actionAccounts:c.actionAccounts},signers:f,instructions:i.instructions||void 0}),signers:f}])},I=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.generate(),t.provider.connection.getMinimumBalanceForRentExemption,a=N(n),e.t0=t.transaction,e.t1=n,e.t2={result:r.publicKey,rent:p.d.SYSVAR_RENT_PUBKEY},e.next=8,m.c.createAccount({fromPubkey:t.provider.wallet.publicKey,newAccountPubkey:r.publicKey,space:a,lamports:Object(O.a)(a,b.d),programId:t.programId});case 8:return e.t3=e.sent,e.t4=[e.t3],e.t5=[r],e.t6={accounts:e.t2,instructions:e.t4,signers:e.t5},c=e.t0.initResultAccount.call(e.t0,e.t1,e.t6),e.abrupt("return",{tx:{tx:c,signers:[r]},resultAccount:r});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){return 44+8*e+64},M=function(e){if(0===e.length)return!0;var t=e[0].tokenMintIn.toBase58();return e.every((function(e){return e.tokenMintIn.toBase58()===t}))}}).call(this,n(6).Buffer)},844:function(e,t,n){"use strict";n(845),n(846)},845:function(e,t,n){"use strict";n(12)},846:function(e,t){},847:function(e,t,n){"use strict"},848:function(e,t,n){"use strict";n.r(t),n.d(t,"buildConstructionFromNonUserSpecific",(function(){return h})),n.d(t,"mergeConstructions",(function(){return O}));var r=n(0),a=n.n(r),c=n(17),o=n(5),i=n(12),s=n(113),u=n(123),l=n.n(u),d=n(72),p=n(491),f=n(377),m=n(229),b=function(e,t){var n=function(e,t){return t.map((function(e,t){return e?Object(i.a)(Object(i.a)({},e),{},{idx:t}):e})).filter((function(e){return!!e})).map((function(t){for(var n=[-1,-1],r=0;r<t.actionMetadata.nextNodes.length;r++)if(n[1]=t.actionMetadata.nextNodes[r].map((function(e){return e.actionIdx})).indexOf(e),-1!==n[1]){n[0]=r;break}if(-1!==n[0]&&-1!==n[1])return{idx:t.idx,idxInNextNodes:n}})).filter((function(e){return!!e}))}(e,t).map((function(e){return t[e.idx].tokenMintOuts[e.idxInNextNodes[0]].toBase58()}));if(n.length<1)throw"Expected to find a previous action for a non initial action";var r=n[0];if(!n.every((function(e){return e===r})))throw"Expected all previous mints to be the same for the action";return r},h=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o,u,f){var h,O,x,v,j,y,g,A,k,w,S;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((h=Object(p.a)(t.actionDatas.map((function(e){return e.actionMetadata})),t.initialActionIndices)).length===t.actionDatas.length){e.next=3;break}throw d.errors.newBuilderError("The order of actions hit should match the length of actions");case 3:O=Object(c.a)(Array(t.actionDatas.length)),x=0;case 5:if(!(x<h.length)){e.next=35;break}if(v=h[x],j=t.initialActionIndices.includes(v)?o:b(v,O),y=t.actionDatas[v],g=n[y.actionTypeUID].buildIsolatedAction){e.next=12;break}throw d.errors.newBuilderError("Could not find a builder function for action with UID ".concat(y.actionTypeUID));case 12:if(!t.initialActionIndices.includes(v)){e.next=16;break}e.t0=r,e.next=19;break;case 16:return e.next=18,Object(m.getTokenAccountUsedByMalloc)(u.wallet.publicKey,new s.b(j),f);case 18:e.t0=e.sent.toBase58();case 19:return A=e.t0,e.prev=20,e.next=23,g(y.buildActionInputs,j,A,y.actionPID,u,{preferredTokenAccounts:f});case 23:k=e.sent,w=k.isolatedAction,S=Object(i.a)(Object(i.a)({},w),{},{actionMetadata:y.actionMetadata,actionTypeUID:y.actionTypeUID}),O[v]=S,e.next=32;break;case 29:throw e.prev=29,e.t1=e.catch(20),d.errors.newActionBuilderError(y.actionTypeUID,v,e.t1);case 32:x++,e.next=5;break;case 35:return e.abrupt("return",{actions:O,initialActionIndices:t.initialActionIndices,initialSplits:t.initialSplits,amount:new l.a(t.amount)});case 36:case"end":return e.stop()}}),e,null,[[20,29]])})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),O=function(e,t,n){var r=Object(f.deepCloneObject)(t),a=Object(f.deepCloneObject)(e);if(n.length==r.initialActionIndices.length&&n.length!==r.initialSplits.length)throw"Expected the info to append the child to the parent to provide the same number of indices as the number of initial splits in the child";for(var o=[].concat(Object(c.a)(a.actionDatas),Object(c.a)(r.actionDatas.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{actionMetadata:Object(i.a)(Object(i.a)({},e.actionMetadata),{},{nextNodes:(t=e.actionMetadata.nextNodes,n=a.actionDatas.length,t.map((function(e){return e.map((function(e){return{actionIdx:e.actionIdx+n,fraction:e.fraction}}))})))})});var t,n})))),s=[],u=0;u<n.length;u++)if(n[u].appendToInitial)s.push({idx:u+a.actionDatas.length,fraction:n[u].splitFrac});else{if(!n[u].indexInParent)throw"Expected the appendChildInitToParent to either append to initial or contain info as to where to append in the parent";o[n[u].indexInParent.actionIdx].actionMetadata.nextNodes[n[u].indexInParent.nextNodeIdx].push({fraction:n[u].splitFrac,actionIdx:u+a.actionDatas.length})}return{actionDatas:o,initialActionIndices:[].concat(Object(c.a)(a.initialActionIndices),Object(c.a)(s.map((function(e){return e.idx})))),initialSplits:[].concat(Object(c.a)(a.initialSplits),Object(c.a)(s.map((function(e){return e.fraction})))),amount:a.amount}}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e="devnet";return{MALLOC_PROGRAM_ID:"9i4MAnhYagLr1vEo5jdmLehRe8Sm5Lx8fHaQNJfbFCve",mallocSpl:{TRANSFER_PROGRAM_ID:"ETpyJNQLorJbAcrPQpM9bkYxYMakegBh93kqZ1KnTBjr",SWAP_PROGRAM_ID:"7T6seoCvCQeUeSTf2EAwX5SnyrZvX7BFUMHi74ZodBKH",DUMMY_PASS_THROUGH:"DBhGd4VREBAw14vV1yaLXfCTtanPBwQfEErg1fe27diJ",MINT_TO:"77WQMNHSBe6BNdMY8R1FD4JX89o2fXr5FhKNerTcJsHJ",SOLEND_ACTION:"BVmJHQLHAAdgALGi6rdGxdsk5ate41kbpDMGL9XAVanP"},projectSerum:{DEX_PROGRAM_ID:"DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"},demo:{FAKE_USDC:"AkzN2jJrorpUY2ApfL2UsBeTfuv1XHFKGLQurZJg6BhN",FAKE_USDC_GD:"2BB7fDrLgBNSMCLqD835GisCHrHrGHsS8SJr6brtnWk2",FAKE_TOKEN_A:"9GmQdigrAFdX67EMrVFwMepEN8rEdMdp8CPUEPJRY8sj"},INITIAL_SPLITTER_ID_UUID:"initial",solana:{RPC:"https://explorer-api.devnet.solana.com",NETWORK:e}}}},980:function(e,t,n){"use strict";n.r(t),n.d(t,"getReadableErrorMessage",(function(){return r})),n.d(t,"getReadableMallocErrorMessage",(function(){return a})),n.d(t,"getActionName",(function(){return c})),n.d(t,"newActionBuilderError",(function(){return o})),n.d(t,"newBuilderError",(function(){return i})),n.d(t,"newCompilerError",(function(){return s})),n.d(t,"newRunError",(function(){return u}));var r=function(e,t){return e.mallocErrorMarker?a(e,t):JSON.stringify(e)},a=function(e,t){switch(e.type){case"Malloc Action Builder":return"Build Error for ".concat(c(e.actionIndex,t),": ").concat(e.message);case"Malloc Compiler":return"Compilation to Solana Error: ".concat(e.message);case"Malloc Runner":return"Runtime Error: ".concat(e.message);case"Malloc Builder":return"Build Error: ".concat(e.message)}return""},c=function(e,t){return t.actionNames?t.actionNames[e]:"Action ".concat(e+1)},o=function(e,t,n){return{mallocErrorMarker:"MALLOC ERROR MARKER",type:"Malloc Action Builder",message:n,actionIndex:t,actionTypeUID:e}},i=function(e){return{mallocErrorMarker:"MALLOC ERROR MARKER",type:"Malloc Builder",message:e}},s=function(e){return{mallocErrorMarker:"MALLOC ERROR MARKER",type:"Malloc Compiler",message:e}},u=function(e,t,n){var r="";if(console.log(JSON.stringify(e)),e.logs)for(var a=e.logs,c=!1,o=0;o<a.length;o++){var i=l(a,o,t,n,c),s=i.msg;c=i.customErrorHit,r+="".concat(s)}return console.log(r),{mallocErrorMarker:"MALLOC ERROR MARKER",type:"Malloc Runner",message:r}},l=function(e,t,n,r,a){var c=function(){return{msg:e[t]+"\n",customErrorHit:a}};if(e[t].includes("Custom program error: ")&&e.length>t+1&&e[t+1].includes("Program")){var o;if(a)return{msg:"",customErrorHit:!0};var i=Number(e[t].split("Custom program error: ")[1],10),s=r[e[t+1].split(" ")[1]];if(!s)return c();if(!(null===(o=n[s])||void 0===o?void 0:o.idl))return c();var u=n[s].idl.errors.find((function(e){return e.code===i}));return u?{msg:"".concat(s," runtime error: ").concat(u.name," - ").concat(u.msg),customErrorHit:!0}:c()}return e[t].includes("error")?c():{msg:"",customErrorHit:a}}},982:function(e,t,n){"use strict";n.r(t),n.d(t,"tokens",(function(){return a})),n.d(t,"serde",(function(){return r})),n.d(t,"object",(function(){return i}));var r={};n.r(r),n.d(r,"Assignable",(function(){return o}));var a=n(229),c=n(7),o=function e(t){var n=this;Object(c.a)(this,e),Object.keys(t).map((function(e){n[e]=t[e]}))},i=n(377)},989:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"action_template","instructions":[{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]},{"name":"closeResultAccount","accounts":[{"name":"resultAccountCtx","accounts":[{"name":"result","isMut":true,"isSigner":false}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]},{"name":"init","accounts":[],"args":[]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"AFakeError","msg":"An error here"}],"metadata":{"address":"2ycCHseReeg9gksHY25vVRBr4oDYgUT2WvjyLbNSKW8U"}}')},996:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"mint_action","instructions":[{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]},{"name":"closeResultAccount","accounts":[{"name":"resultAccountCtx","accounts":[{"name":"result","isMut":true,"isSigner":false}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]},{"name":"mint","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"amountIn","type":"u64"},{"name":"data","type":"bytes"},{"name":"dummy","type":"bool"}]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"ExpectedFourActionAccount","msg":"Expected four action accounts"}],"metadata":{"address":"D6ptfw4KGdEcanTrWJGMZN3y8fXRVykBuWuNM3uEzVc6"}}')},997:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"mint_to_action","instructions":[{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]},{"name":"closeResultAccount","accounts":[{"name":"resultAccountCtx","accounts":[{"name":"result","isMut":true,"isSigner":false}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]},{"name":"mint","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"amountIn","type":"u64"},{"name":"data","type":"bytes"},{"name":"dummy","type":"bool"}]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"ExpectedFourActionAccount","msg":"Expected four action accounts"},{"code":301,"name":"ErrorDeserializing","msg":"Error deserializing the data"}]}')}},[[1639,1,2]]]);
//# sourceMappingURL=main.ba7b34b0.chunk.js.map