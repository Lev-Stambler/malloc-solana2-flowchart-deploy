(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{101:function(t,e,n){"use strict";n.d(e,"g",(function(){return m})),n.d(e,"f",(function(){return O})),n.d(e,"b",(function(){return v})),n.d(e,"h",(function(){return h})),n.d(e,"c",(function(){return x})),n.d(e,"a",(function(){return g})),n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return k}));var r=n(16),c=n(0),a=n.n(c),o=n(13),i=n(5),u=n(355),s=n(68),l=n(604),d=n(39),f=n(65),p=n(38),b=s.ASSOCIATED_TOKEN_PROGRAM_ID,m=function(){var t=Object(i.a)(a.a.mark((function t(e){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(i.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.i.state.tokenList){t.next=2;break}return t.abrupt("return",p.i.state.tokenList);case 2:return t.next=4,(new l.b).resolve();case 4:return e=t.sent,n=e.filterByClusterSlug(Object(f.a)().solana.NETWORK).getList(),p.i.setState(Object(o.a)(Object(o.a)({},p.i.state),{},{tokenList:n})),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=3,n();case 3:if(c=t.sent,"devnet"!==Object(f.a)().solana.NETWORK){t.next=15;break}return t.t0=[],t.t1=Object(r.a)(c),t.t2=r.a,t.next=10,j(e);case 10:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t4));case 15:return t.abrupt("return",c);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new d.PublicKey(Object(f.a)().demo.FAKE_USDC),r=new d.PublicKey(Object(f.a)().demo.FAKE_TOKEN_A),t.next=4,k(e,n);case 4:return c=t.sent,t.next=7,k(e,r);case 7:if(i=t.sent,c&&i){t.next=10;break}throw"Expected info for these mints";case 10:return t.abrupt("return",[Object(o.a)(Object(o.a)({},c),{},{chainId:-1,name:"FAKE USDC",symbol:"FUSDC",address:Object(f.a)().demo.FAKE_USDC}),Object(o.a)(Object(o.a)({},i),{},{chainId:-1,name:"FAKE: A TOKEN",symbol:"FA TOKEN",address:Object(f.a)().demo.FAKE_TOKEN_A})]);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.a,t.next=3,m(e);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.PublicKey.findProgramAddress([e.toBuffer(),s.TOKEN_PROGRAM_ID.toBuffer(),new d.PublicKey(n).toBuffer()],b);case 2:return r=t.sent,t.abrupt("return",r[0]);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(t,e){var n=t.toString(),r=n.substring(0,n.length-e)||"0",c=n.substring(n.length-e).padStart(e,"0").substring(0,e);return"".concat(function(t){for(var e=/(-?\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}(r),".").concat(c).replace(/\.?0*$/,"")},x=function(t,e){var n,r=t.toString().split("."),c=r[0],a=r[1]||"";if(r.length>2||a.length>e)throw new Error("Cannot parse '".concat(t,"' as token amount"));return""===(n=(n=c+a.padEnd(e,"0")).replace(/^0+/,""))?"0":n},g=function(){var t=Object(i.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.map((function(t){return v(e,t)}))));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(a.a.mark((function t(e,n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connection.getAccountInfo(n);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.prev=5,c=Object(u.parseTokenAccount)(r.data),t.abrupt("return",c);case 10:return t.prev=10,t.t0=t.catch(5),console.error("An error occured parsing the data, returning null",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var t=Object(i.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connection.getAccountInfo(n);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",Object(u.parseMintAccount)(r.data));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},1013:function(t,e){},1014:function(t,e){},1015:function(t,e){},1019:function(t,e){},1036:function(t,e){},1037:function(t,e){},1057:function(t,e){},1058:function(t,e){},1077:function(t,e){},1078:function(t,e){},1098:function(t,e){},1099:function(t,e){},1100:function(t,e){},1101:function(t,e){},1102:function(t,e){},1121:function(t,e){},1122:function(t,e){},1140:function(t,e){},1141:function(t,e){},1142:function(t,e){},1146:function(t,e){},1163:function(t,e){},1164:function(t,e){},1207:function(t,e){},1208:function(t,e){},1209:function(t,e){},122:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o}));var r=function(t){return t.split("-")[0]},c=function(t,e){return"".concat(t,"-").concat(e)},a=function(t){return c(t,Math.random().toString())},o=function(t,e){return"edge~".concat(t,"^").concat(e)}},1289:function(t,e){},1291:function(t,e){},1305:function(t,e){},1309:function(t,e){},1311:function(t,e){},1321:function(t,e){},1323:function(t,e){},1354:function(t,e){},1356:function(t,e){},1363:function(t,e){},1364:function(t,e){},1389:function(t,e){},1396:function(t,e,n){"use strict";n.r(e);var r=n(4),c=n.n(r),a=n(58),o=n.n(a),i=(n(901),n(902),n(13)),u=n(0),s=n.n(u),l=n(5),d=n(19),f=n(352),p=n(600),b=n(1430),m=n(1431),j=n(39),O=n(93),v=n(430),h=n(302),x=n(96),g=n(142),y=n(749),k=(n(452),n(305),n(167),n(65)),A=n(38),w=n(704),S=n(858),I=n(582),P=n(1410),T=n(101),K=n(196),E=n(68),C=n(27);function M(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var R=Object(w.a)((function(t){return Object(S.a)({paper:{position:"absolute",width:"auto",backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3)}})})),N=function(t){var e=t.tok,n=t.setChoosen;return Object(C.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",width:"100%",gap:"5px"},children:[Object(C.jsx)("button",{onClick:n,children:"Choose"}),Object(C.jsx)("div",{children:e.info.name}),Object(C.jsxs)("div",{children:[Object(h.b)(e.account),e.balance?"":" (currently nonexistent)"]}),Object(C.jsx)("div",{children:Object(T.h)(new E.u64(e.balance||0),e.info.decimals)})]})};function _(t){var e,n=null===(e=t.onlyWithInitializedAccounts)||void 0===e||e,a=R(),o=c.a.useState(M),u=Object(d.a)(o,1)[0],f=c.a.useState(!1),p=Object(d.a)(f,2),b=p[0],m=p[1],v=c.a.useState(""),h=Object(d.a)(v,2),g=h[0],y=h[1],k=c.a.useState(""),w=Object(d.a)(k,2),S=w[0],_=w[1],D=Object(O.useAnchorWallet)(),B=Object(r.useState)(-1),L=Object(d.a)(B,2),W=L[0],F=L[1],U=Object(x.useStore)(A.i),G=Object(K.a)(D),Y=function(){var t=Object(l.a)(s.a.mark((function t(){var e,r,c,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.g)(G);case 2:return e=t.sent,t.next=5,Object(T.a)(null===D||void 0===D?void 0:D.publicKey,e.map((function(t){return t.address})));case 5:return r=t.sent,t.next=8,Promise.all(r.map(function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.e)(G,e);case 2:return n=t.sent,t.abrupt("return",null===n||void 0===n?void 0:n.amount);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:c=t.sent,a=r.map((function(t,n){return{account:t.toBase58(),info:e[n],balance:c[n]}})),o=n?a.filter((function(t){return t.balance})):a,u=o.map((function(t){var e;return Object(i.a)(Object(i.a)({},t),{},{info:Object(i.a)(Object(i.a)({},t.info),{},{mint:new j.PublicKey(t.info.address)}),balance:(null===(e=t.balance)||void 0===e?void 0:e.toString())||null})})),A.i.setState(Object(i.a)(Object(i.a)({},U),{},{derivedTokenAccounts:u}));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){Y()}),[]);var q=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r,c,a,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U.derivedTokenAccounts){e.next=3;break}return m(!1),e.abrupt("return");case 3:if(!(W>=0)){e.next=7;break}t.onClose(U.derivedTokenAccounts[W]),e.next=40;break;case 7:if(("TOKEN"!==(n=-1===W?"TOKEN":"MINT")||g)&&("MINT"!==n||S)){e.next=11;break}return m(!1),e.abrupt("return");case 11:if("TOKEN"!==n){e.next=15;break}e.t0=g,e.next=18;break;case 15:return e.next=17,Object(T.b)(D.publicKey,S);case 17:e.t0=e.sent.toBase58();case 18:return r=e.t0,e.next=21,Object(T.e)(G,new j.PublicKey(r));case 21:if(c=e.sent,"TOKEN"!==n||c){e.next=26;break}return alert("Looks like an invalid SPL Token Account was provided"),m(!1),e.abrupt("return");case 26:if("MINT"!==n||!1===t.onlyWithInitializedAccounts||c){e.next=30;break}return alert("Looks like there is no initialized associated account with this mint"),m(!1),e.abrupt("return");case 30:return a="TOKEN"===n?c.mint:new j.PublicKey(S),e.next=33,Object(T.d)(G,a);case 33:if(o=e.sent){e.next=38;break}return alert("Looks like the mint associated with this token is invalid"),m(!1),e.abrupt("return");case 38:u=(null===c||void 0===c?void 0:c.amount)||new E.u64(0),t.onClose({balance:u,account:r,info:Object(i.a)(Object(i.a)({},o),{},{mint:a})});case 40:m(!1);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=Object(C.jsxs)("div",{style:u,className:a.paper,children:[Object(C.jsx)("h2",{id:"simple-modal-title",children:"Choose a token account"}),Object(C.jsx)("p",{id:"simple-modal-description",children:"Choose from either your associated token accounts or add a custom address"}),Object(C.jsxs)("div",{className:"options",style:{overflow:"scroll",maxHeight:"70vh"},children:[Object(C.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[Object(C.jsx)("span",{}),Object(C.jsx)("div",{children:"Mint Name"}),Object(C.jsx)("div",{children:"Token Account Address"}),Object(C.jsx)("div",{children:"Amount"})]}),U.derivedTokenAccounts?U.derivedTokenAccounts.map((function(t,e){return Object(C.jsxs)("div",{style:{padding:"0.5rem",border:W===e?"1px solid black":"0px"},children:[Object(C.jsx)(N,{tok:t,setChoosen:function(){return F(e)}}),Object(C.jsx)("br",{})]},"token-derived-account-".concat(e))})):"Loading...",Object(C.jsx)("div",{style:{padding:"0.5rem",border:-1===W?"1px solid black":"0px"},children:Object(C.jsx)(P.a,{label:"Custom Token Account",value:g,onChange:function(t){return y(t.target.value)},onFocus:function(){return F(-1)}})}),Object(C.jsx)("p",{children:"Or"}),Object(C.jsx)("div",{style:{padding:"0.5rem",border:-2===W?"1px solid black":"0px"},children:Object(C.jsx)(P.a,{label:"Custom Mint Account",value:S,onChange:function(t){return _(t.target.value)},onFocus:function(){return F(-2)}})})]})]});return Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{type:"button",onClick:function(){Y(),m(!0)},children:t.buttonText||"Choose Token Account"}),Object(C.jsx)(I.a,{open:b,onClose:q,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:V})]})}var D,B,L,W=n(69),F=function(t){var e=Object(O.useAnchorWallet)(),n=Object(r.useState)(null),c=Object(d.a)(n,2),a=c[0],o=c[1];Object(r.useEffect)((function(){null!==t.toggleNodeInfoSet&&u()}),[t.toggleNodeInfoSet,a]);var u=function(){var n=Object(l.a)(s.a.mark((function n(){var r,c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a&&t.tokenAccount&&e){n.next=2;break}return n.abrupt("return");case 2:if(Object(A.h)(!0),t.mint){n.next=6;break}return Object(A.h)(!1),n.abrupt("return");case 6:return r=Object(K.a)(e),n.t0=y.b,n.t1=r,n.next=11,Object(T.f)(r);case 11:return n.t2=n.sent,n.t3=e.publicKey,n.t4=t.tokenAccount,n.t5=new j.PublicKey(a.account),n.t6=t.mint,n.t7=a.info.mint,n.t8=new j.PublicKey(Object(k.a)().projectSerum.DEX_PROGRAM_ID),n.t9=W.e.SYSVAR_RENT_PUBKEY,n.t10={provider:n.t1,tokenList:n.t2,authority:n.t3,inTokenAccount:n.t4,outTokenAccount:n.t5,inMint:n.t6,outMint:n.t7,serumDexProgramId:n.t8,rent:n.t9},n.next=22,(0,n.t0)(n.t10);case 22:return c=n.sent,c.side,n.t11=y.a,n.t12=r,n.next=28,Object(T.f)(r);case 28:return n.t13=n.sent,n.t14=e.publicKey,n.t15=t.tokenAccount,n.t16=new j.PublicKey(a.account),n.t17=t.mint,n.t18=a.info.mint,n.t19=new j.PublicKey(Object(k.a)().projectSerum.DEX_PROGRAM_ID),n.t20=W.e.SYSVAR_RENT_PUBKEY,n.t21=new j.PublicKey(Object(k.a)().mallocSpl.SWAP_PROGRAM_ID),n.t22=new E.u64(1),n.t23={provider:n.t12,tokenList:n.t13,authority:n.t14,inTokenAccount:n.t15,outTokenAccount:n.t16,inMint:n.t17,outMint:n.t18,serumDexProgramId:n.t19,rent:n.t20,swapActionProgram:n.t21,minOut:n.t22},n.next=41,(0,n.t11)(n.t23);case 41:n.t24=n.sent,(o=(0,n.t24)()).actionAccounts=o.actionAccounts.slice(3),t.nodeInfoStoreState[t.id]={action:Object(i.a)(Object(i.a)({},o),{},{tokenAccountsOuts:[new j.PublicKey(a.account)]})},A.c.setState(t.nodeInfoStoreState),Object(A.h)(!1);case 47:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsxs)("h4",{children:["Swap ",t.mintName," to"," ",(null===a||void 0===a?void 0:a.info.name)||(null===a||void 0===a?void 0:a.info.mint.toBase58())||"<Out token not set>"]}),Object(C.jsx)(_,{onClose:function(t){return o(t)},buttonText:"Choose output token",onlyWithInitializedAccounts:!1}),Object(C.jsx)(g.a,{type:"source",position:g.b.Bottom,id:"b"})]})},U=n(1425),G=n(1426),Y=n(1427),q=n(309),V=n(122),H=function(t){return"edge"===t.split("~")[0]},J=function(t){return t.split("~")[1].split("^")},Q=function(t,e){return t.filter((function(t){return H(t.id)&&J(t.id)[0]===e})).map((function(t){return t.id}))},z=function(t,e){return Q(t,e).map((function(t){return J(t)[1]}))},X=function(t,e){return t.filter((function(t){return H(t.id)&&J(t.id)[1]===e})).map((function(t){return t.id}))},Z=function(){return A.a.state.elements.filter((function(t){return!H(t.id)&&"splitter"!==Object(V.c)(t.id)})).map((function(t){return t.id}))},$=function(t){var e=A.a.state.elements,n=X(e,t).map((function(t){var e,n=J(t)[0],r=null===(e=A.c.state[n].splitter)||void 0===e?void 0:e.mint;return r||null}));if(0===n.length)return null;var r=n.find((function(t){return!!t}));if(!r)return null;if(n.filter((function(t){return!!t})).some((function(t){return!t.equals(r)})))throw"Inconsistent prior token mint address for node with id ".concat(t);return n.some((function(t){return!t}))?null:r},tt=function(t){var e=A.a.state.elements,n=X(e,t).map((function(t){var e,n=J(t)[0],r=null===(e=A.c.state[n].splitter)||void 0===e?void 0:e.tokenAccount;return r||null}));if(0===n.length)return null;var r=n.find((function(t){return!!t}));if(!r)return null;if(n.filter((function(t){return!!t})).some((function(t){return!t.equals(r)})))throw"Inconsistent prior token account address for node with id ".concat(t);return n.some((function(t){return!t}))?null:r},et=function(){var t=Object(l.a)(s.a.mark((function t(e){var n,r,c,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=nt(),!(r=A.a.state.initTokenAccount)){t.next=16;break}return t.next=5,Object(T.e)(e,r);case 5:if(t.t1=c=t.sent,t.t0=null===t.t1,t.t0){t.next=9;break}t.t0=void 0===c;case 9:if(!t.t0){t.next=13;break}t.t2=void 0,t.next=14;break;case 13:t.t2=c.mint;case 14:(a=t.t2)&&(n[a.toBase58()]=r);case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),nt=function(){return(A.i.state.derivedTokenAccounts||[]).reduce((function(t,e){return t[e.info.mint.toBase58()]=new j.PublicKey(e.account),t}),{})},rt=function(){var t=function(){var t=Z();return t.map((function(e){var n=z(A.a.state.elements,e),r=n.map((function(t){return z(A.a.state.elements,t)})).map((function(e,r){var c,a=n[r],o=null===(c=A.c.state[a].splitter)||void 0===c?void 0:c.splits;if(!o)throw"Expected to find splitter information";return e.map((function(e,n){return{actionIdx:t.indexOf(e),fraction:new W.a(o[n])}}))}));return{nodeId:e,ripeAmount:X(A.a.state.elements,e).length,nextNodes:r}}))}(),e=function(){var t,e=null===(t=A.c.state[Object(V.b)("splitter",Object(k.a)().INITIAL_SPLITTER_ID_UUID)].splitter)||void 0===t?void 0:t.splits;if(!e)throw"Expected to get the splits from the initial splitter";return[e,Q(A.a.state.elements,Object(V.b)("splitter",Object(k.a)().INITIAL_SPLITTER_ID_UUID)).map((function(t){return J(t)[1]}))]}(),n=Object(d.a)(e,2),r=n[0],c=n[1],a=Z(),o=a.map($),u=a.map((function(e,n){var r,c=null===(r=A.c.state[e])||void 0===r?void 0:r.action;if(!c)throw"Missing action info for node of id ".concat(e);var a=o[n];if(!a)throw"Missing input token mint for node of id ".concat(a);return Object(i.a)(Object(i.a)({},c),{},{actionMetadata:t[n],tokenMintIn:a})})),s=c.map((function(t){return a.indexOf(t)}));s.forEach((function(t){if(t<0)throw"An unexpected error occured in building the action list"}));var l=A.a.state.initTokenAccount;if(!l)throw"Init token account not set";return{actions:u,initialSplits:r,initialActionIndices:s,amount:new E.u64(A.a.state.initAmount),amountInAccount:l}},ct=function(){var t=Object(l.a)(s.a.mark((function t(e){var n,r,c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(A.g)(!0),t.prev=1;case 2:if(!A.b.state.storeUpdateLoading){t.next=7;break}return t.next=5,new Promise((function(t,e){return setTimeout(t,50)}));case 5:t.next=2;break;case 7:return n=rt(),r=Object(h.a)(e),t.next=11,et(e);case 11:return c=t.sent,t.next=14,r.buildTxs(Object(i.a)(Object(i.a)({},n),{},{opts:{associatedTokenAccounts:c}}));case 14:return a=t.sent,t.next=17,r.sendRequests(a,{prepareCommitment:{skipPreflight:!1,preflightCommitment:"processed",commitment:"processed"},actionCommitment:{commitment:"confirmed",skipPreflight:!0},onPrepareAccountsDone:function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map((function(t){return e.connection.confirmTransaction(t,"confirmed")})));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 17:return o=t.sent,Object(A.g)(!1),t.abrupt("return",o);case 22:throw t.prev=22,t.t0=t.catch(1),Object(A.g)(!1),t.t0;case 26:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e){return t.apply(this,arguments)}}(),at=function(){var t=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ct(e);case 3:t.next=10;break;case 5:throw t.prev=5,t.t0=t.catch(0),console.error(t.t0),alert("An error occured in running your flow"),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),ot=n(355),it=new Uint8Array([8,57,204,222,105,129,113,8,245,54,20,45,122,175,82,37,32,44,46,6,54,35,168,208,213,194,164,50,97,226,134,119,136,196,213,189,243,233,16,53,22,220,245,4,17,203,251,233,20,7,178,5,36,19,66,89,210,148,19,225,117,61,214,253]),ut=new W.c(j.Keypair.fromSecretKey(it)),st=function(t){return new ot.Provider(new j.Connection(t),ut,{commitment:"confirmed"})},lt=function(){var t=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt(new j.PublicKey(Object(k.a)().demo.FAKE_USDC),e,st(Object(k.a)().solana.RPC));case 3:return n=t.sent,t.next=6,ft(new j.PublicKey(Object(k.a)().demo.FAKE_USDC_GD),[n]);case 6:alert("Done with your airdrop"),window.location.reload(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert("An error occurred with the airdrop ".concat(JSON.stringify(t.t0)));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),dt=function(){var t=Object(l.a)(s.a.mark((function t(e,n,r){var c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.PublicKey.findProgramAddress([n.toBuffer(),E.TOKEN_PROGRAM_ID.toBuffer(),new j.PublicKey(e).toBuffer()],E.ASSOCIATED_TOKEN_PROGRAM_ID);case 2:return c=t.sent[0],console.log(c.toBase58()),t.next=6,r.connection.getAccountInfo(c);case 6:if(t.sent){t.next=14;break}return a=E.Token.createAssociatedTokenAccountInstruction(E.ASSOCIATED_TOKEN_PROGRAM_ID,E.TOKEN_PROGRAM_ID,e,c,n,r.wallet.publicKey),(o=new j.Transaction).add(a),t.next=13,r.send(o,[]);case 13:case 14:return t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),ft=function(){var t=Object(l.a)(s.a.mark((function t(e,n){var r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 6,r=7*Math.pow(10,6),c=new j.Transaction,n.map((function(t){c.add(E.Token.createTransferInstruction(E.TOKEN_PROGRAM_ID,e,t,ut.publicKey,[],r))})),t.next=6,st(Object(k.a)().solana.RPC).send(c,[],{skipPreflight:!0});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),pt=function(t){var e=Object(O.useWallet)(),n=Object(O.useAnchorWallet)(),c=Object(x.useStore)(A.b),a=Object(r.useState)(!1),o=Object(d.a)(a,2),i=o[0],u=o[1];return Object(C.jsx)(G.a,{style:{maxWidth:"300px"},children:Object(C.jsxs)(Y.a,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},children:[Object(C.jsx)(U.a,{onClick:function(){return t.pushElemsFn(Object(q.b)())},children:"Add Transfer Action"}),Object(C.jsx)(U.a,{onClick:function(){return t.pushElemsFn(Object(q.a)())},children:"Add Swap Action"}),Object(C.jsx)(U.a,{onClick:function(){if(!n)throw"Expected the wallet to be connected";var t=new W.b(new j.Connection(Object(k.a)().solana.RPC),n,{skipPreflight:!0,preflightCommitment:"confirmed"});at(t).then((function(t){alert("Ran successfully!"),window.location.reload()})).catch((function(t){alert("An error occured: ".concat(t)),console.error(t)}))},disabled:c.storeUpdateLoading,children:"Compile and Run"}),Object(C.jsx)("br",{}),Object(C.jsxs)(U.a,{onClick:function(){u(!0),lt(n.publicKey).then((function(){return u(!1)}))},disabled:i,children:[i&&"loading...","Airdrop fake USDC"]}),Object(C.jsx)("br",{}),Object(C.jsx)(U.a,{onClick:function(){return t.setElemsFn([Object(q.c)()])},color:"secondary",children:"Delete all"}),Object(C.jsx)(U.a,{onClick:function(){return e.disconnect()},color:"secondary",children:"Sign Out"})]})})},bt=n(16),mt=function(t){return function(e){var n,c,a,o,u,f,p=Object(x.useStore)(A.a),b=Object(x.useStore)(A.c),m=Object(O.useAnchorWallet)(),v=Object(r.useState)(0),h=Object(d.a)(v,2),y=h[0],k=h[1],w=Object(r.useState)(void 0),S=Object(d.a)(w,2),I=S[0],M=S[1],R=Object(r.useState)([]),N=Object(d.a)(R,2),D=N[0],B=N[1],L=Object(r.useState)(null),W=Object(d.a)(L,2),F=W[0],U=W[1],G=Object(x.useStore)(A.a),Y=Object(x.useStore)(A.c);Object(r.useEffect)((function(){var t;if((null===(t=e.data)||void 0===t?void 0:t.isInitial)&&F&&I){var n=Object(T.c)(I,F.info.decimals),r=new E.u64(n);A.a.setState(Object(i.a)(Object(i.a)({},p),{},{initAmount:r}))}}),[I,F]),Object(r.useEffect)((function(){var t;(null===F||void 0===F?void 0:F.account)&&(null===(t=e.data)||void 0===t?void 0:t.isInitial)&&A.a.setState(Object(i.a)(Object(i.a)({},p),{},{initTokenAccount:new j.PublicKey(null===F||void 0===F?void 0:F.account)}))}),[F]);var q=function(t,n){var r=Q(p.elements,e.data.id);if(r.length<t)throw alert("The flow chart is malformed, please start over"),"The flow chart is malformed, please start over";var c=r[t],a=p.elements.findIndex((function(t){return t.id===c})),o=p.elements[a];o.animated=n,Object(A.e)(o,a)},H=function(){var t=Object(l.a)(s.a.mark((function t(){var n,r,c,a,o,u,l,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.data.isInitial){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(T.g)(Object(K.a)(m));case 4:if(t.sent,s=G.elements,f=e.data.id,0!==(o=X(s,f).map((function(t){return J(t)[0]}))).length){t.next=8;break}return t.abrupt("return");case 8:if(!(u=o.map((function(t){return Y[t]}))).some((function(t){return!t||!t.action}))){t.next=11;break}return t.abrupt("return");case 11:if(u.every((function(t){return t.action.tokenMintOuts[0]===u[0].action.tokenMintOuts[0]}))){t.next=13;break}throw"Expected all input mints to be the same into splitter";case 13:if(0!==u[0].action.tokenMintOuts.length){t.next=15;break}return t.abrupt("return");case 15:if(l=u[0].action.tokenMintOuts[0],d=u[0].action.tokenAccountsOuts[0],b[e.data.id]={splitter:{splits:D,tokenAccount:d,mint:null!==l&&void 0!==l?l:void 0}},(null===(n=Y[e.data.id].splitter)||void 0===n||null===(r=n.mint)||void 0===r?void 0:r.toBase58())!==l.toBase58()||(null===(c=Y[e.data.id].splitter)||void 0===c||null===(a=c.tokenAccount)||void 0===a?void 0:a.toBase58())!==d.toBase58()){t.next=20;break}return t.abrupt("return");case 20:A.c.setState(Object(i.a)({},b));case 21:case"end":return t.stop()}var s,f}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){H()}),[G,Y]),Object(r.useEffect)((function(){H()}),[]),Object(r.useEffect)((function(){var t=e.data.isInitial?null===F||void 0===F?void 0:F.info.mint:void 0,n=e.data.isInitial&&F?new j.PublicKey(F.account):void 0;b[e.data.id]={splitter:{splits:D,tokenAccount:n,mint:null!==t&&void 0!==t?t:void 0}},A.c.setState(Object(i.a)({},b))}),[D]),Object(r.useEffect)((function(){var t=Q(p.elements,e.data.id).length,n=t-y;B(n<0?Object(bt.a)(D.slice(0,D.length+n)):[].concat(Object(bt.a)(D),Object(bt.a)(Array(n).fill(100)))),k(t)}),[p]);return Object(C.jsxs)("div",{style:{padding:"1rem"},children:[Object(C.jsx)("h4",{children:(null===(n=e.data)||void 0===n?void 0:n.isInitial)?"Initial Splitter":"Splitter"}),(null===(c=e.data)||void 0===c?void 0:c.isInitial)&&Object(C.jsx)(_,{onClose:U}),(null===(a=e.data)||void 0===a?void 0:a.isInitial)&&Object(C.jsx)("div",{style:{paddingBottom:"3rem"},children:Object(C.jsx)(P.a,{label:"Amount of ".concat(null!==(o=null!==(u=null===F||void 0===F?void 0:F.info.name)&&void 0!==u?u:null===F||void 0===F?void 0:F.info.mint.toBase58())&&void 0!==o?o:"<Input token account not set>"),type:"number",value:I,onChange:function(t){try{if(!t.target.value)return;var e=parseFloat(t.target.value);M(e)}catch(t){alert("Looks like an invalid number was inputted")}}})}),!(null===(f=e.data)||void 0===f?void 0:f.isInitial)&&Object(C.jsx)(g.a,{type:"target",position:g.b.Top}),new Array(y).fill(0).map((function(t,e){return Object(C.jsx)("div",{children:Object(C.jsx)(P.a,{type:"number",label:"Fractional Amount",onFocus:function(){return q(e,!0)},onBlur:function(){return q(e,!1)},value:D[e],onChange:function(t){return function(t,e){D[e]=parseInt(t.target.value),B(Object(bt.a)(D))}(t,e)}})},"splitter-frac-".concat(e))})),Object(C.jsx)(g.a,{type:"source",position:g.b.Bottom,onConnect:function(e){!function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(console.log(t),!t.source||!t.target||(n?"splitter"===Object(V.c)(t.source||""):"splitter"===Object(V.c)(t.target||"")))return!1;var r={id:Object(V.a)(t.source,t.target),source:t.source,target:t.target};e([r])}(e,t,!1)},id:"a",style:{left:"50%"}})]})}},jt=function(t,e){return function(t){var n=Object(x.useStore)(A.c),c=Object(O.useAnchorWallet)(),a=Object(r.useState)($(t.id)),o=Object(d.a)(a,2),i=o[0],u=o[1],f=Object(r.useState)(null),p=Object(d.a)(f,2),b=p[0],m=p[1],j=Object(r.useState)("<not set>"),v=Object(d.a)(j,2),h=v[0],y=v[1],k=Object(r.useState)(null),w=Object(d.a)(k,2),S=w[0],I=w[1],P=Object(x.useStore)(A.a),E=function(){var e=Object(l.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.g)(Object(K.a)(c));case 2:return n=e.sent,r=n.find((function(t){return t.address===(null===i||void 0===i?void 0:i.toBase58())})),e.t0=m,e.next=7,tt(t.id);case 7:e.t1=e.sent,(0,e.t0)(e.t1),y((null===r||void 0===r?void 0:r.name)||(null===i||void 0===i?void 0:i.toBase58())||"<not set>"),I(!S);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){E()}),[i]),Object(r.useEffect)((function(){i&&I(!S),E()}),[]),Object(r.useEffect)((function(){var e=$(t.id),n=tt(t.id);!n||b&&n.equals(b)||m(n),!e||i&&!1!==(null===e||void 0===e?void 0:e.equals(i))||(u(e),I(!S))}),[P,n]),Object(C.jsxs)("div",{className:"flow-chart-node",children:[Object(C.jsx)(g.a,{type:"target",position:g.b.Top,style:{borderRadius:0}}),Object(C.jsx)(e,{tokenAccount:b,id:t.id,flowState:P,nodeInfoStoreState:n,mintName:h,toggleNodeInfoSet:S,mint:i})]})}},Ot=n(877),vt=function(){var t=Object(x.useStore)(A.a);Object(r.useEffect)((function(){}),[]);var e={swap:jt(A.d,F),transfer:jt(A.d,Ot.a),splitter:mt(A.d)};return Object(C.jsxs)("div",{style:{height:"100%",width:"100%",padding:"1rem"},children:[Object(C.jsx)("div",{style:{position:"absolute",zIndex:100},children:Object(C.jsx)(pt,{pushElemsFn:A.d,setElemsFn:A.f})}),Object(C.jsx)(g.c,{elements:t.elements,nodeTypes:e})]})},ht=n(878),xt=n.n(ht),gt=n(581),yt=function(){return Object(C.jsxs)("div",{className:"full-screen greyed",style:{display:"grid",justifyContent:"center",alignContent:"center",justifyItems:"center",gridTemplateColumns:"1fr"},children:[Object(C.jsx)(xt.a,{loading:!0,css:Object(gt.css)(D||(D=Object(f.a)(["\n\t\t\t\theight: 200px;\t\n\t\t\t"]))),size:80}),Object(C.jsx)("h3",{children:"Waiting while the Solana Network eats your gas fees"})]})},kt=Object(p.a)(v.WalletDialogButton)(B||(B=Object(f.a)([""]))),At=(p.a.span(L||(L=Object(f.a)([""]))),function(t){var e,n=Object(r.useState)(),c=Object(d.a)(n,2),a=c[0],o=c[1],u=Object(r.useState)(!1),f=Object(d.a)(u,2),p=(f[0],f[1],Object(r.useState)(!1)),v=Object(d.a)(p,2),g=(v[0],v[1],Object(r.useState)(!1)),y=Object(d.a)(g,2),k=(y[0],y[1],Object(x.useStore)(A.b)),w=Object(r.useState)({open:!1,message:"",severity:void 0}),S=Object(d.a)(w,2),I=S[0],P=S[1],T=Object(r.useState)(new Date(t.startDate)),K=Object(d.a)(T,2),E=(K[0],K[1],Object(O.useWallet)()),M=Object(r.useState)(),R=Object(d.a)(M,2);R[0],R[1];return Object(r.useEffect)((function(){Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===E||void 0===E?void 0:E.publicKey)){e.next=5;break}return e.next=3,t.connection.getBalance(E.publicKey);case 3:n=e.sent,o(n/j.LAMPORTS_PER_SOL);case 5:case"end":return e.stop()}}),e)})))()}),[E,t.connection]),Object(C.jsxs)("main",{children:[E.connected&&Object(C.jsxs)("p",{style:{marginTop:0},children:["Address: ",Object(h.b)((null===(e=E.publicKey)||void 0===e?void 0:e.toBase58())||"")]}),E.connected&&Object(C.jsxs)("p",{children:["Balance: ",(a||0).toLocaleString()," SOL"]}),E.connected&&Object(C.jsx)(vt,{}),!E.connected&&Object(C.jsx)(kt,{children:"Connect Wallet"}),k.ephemeralRunLoading&&Object(C.jsx)(yt,{}),Object(C.jsx)(b.a,{open:I.open,autoHideDuration:6e3,onClose:function(){return P(Object(i.a)(Object(i.a)({},I),{},{open:!1}))},children:Object(C.jsx)(m.a,{onClose:function(){return P(Object(i.a)(Object(i.a)({},I),{},{open:!1}))},severity:I.severity,children:I.message})})]})}),wt=n(469),St=new W.e.PublicKey(Object(k.a)().MALLOC_PROGRAM_ID),It=Object(k.a)().solana.NETWORK,Pt=Object(k.a)().solana.RPC,Tt=new W.e.Connection(Pt),Kt=parseInt("1630422000000",10),Et=function(){var t=Object(r.useMemo)((function(){return Object(j.clusterApiUrl)(It)}),[]),e=Object(r.useMemo)((function(){return[Object(wt.getPhantomWallet)(),Object(wt.getSolflareWallet)(),Object(wt.getSolletWallet)()]}),[]);return Object(C.jsx)(O.ConnectionProvider,{endpoint:t,children:Object(C.jsx)(O.WalletProvider,{wallets:e,autoConnect:!0,children:Object(C.jsx)(v.WalletDialogProvider,{children:Object(C.jsx)(At,{config:St,connection:Tt,startDate:Kt,txTimeout:3e4})})})})},Ct=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1433)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),a(t),o(t)}))};o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(Et,{})}),document.getElementById("root")),Ct()},196:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(69),c=n(39),a=n(65),o=function(t){return new r.b(new c.Connection(Object(a.a)().solana.RPC),t,{})}},200:function(t,e,n){"use strict";var r,c;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),function(t){t[t.Bid=0]="Bid",t[t.Ask=1]="Ask"}(r||(r={})),function(t){t[t.BasicSwap=0]="BasicSwap"}(c||(c={}))},239:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return i}));var r=2e4,c=5184e5,a=5184e5,o=19.055,i=1728e5},264:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return b}));var r=n(16),c=n(0),a=n.n(c),o=n(5),i=n(464),u=n(146),s=n(308),l=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r,c){var o,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.secretKey?[c]:[],s=Object(i.transfer)({source:e,destination:n,amount:r,owner:c.publicKey}),(l=new u.d).add(s),t.abrupt("return",{tx:l,signers:o});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(a.a.mark((function t(e,n,c,l,d){var b,m,j,O,v,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b=p(c.map((function(t){return[t.tokenMintIn].concat(Object(r.a)(t.tokenMintOuts))})).flat()),console.log("Got all mints of",b,"Got associated accounts of",d),m={},j=0;case 4:if(!(j<b.length)){t.next=17;break}if(O=b[j],!(d||{})[O]){t.next=10;break}m[O]={publicKey:d[O]},t.next=14;break;case 10:return t.next=12,f(n.publicKey,O);case 12:v=t.sent,m[O]={publicKey:v};case 14:j++,t.next=4;break;case 17:return t.next=19,Promise.all(b.map(function(){var t=Object(o.a)(a.a.mark((function t(r){var c,o,d,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=m[r].publicKey,t.next=3,e.connection.getAccountInfo(c);case 3:if(!t.sent){t.next=7;break}return console.log("ALREADY EXISTS"),t.abrupt("return",null);case 7:return o=s.c.createAssociatedTokenAccountInstruction(s.a,i.TOKEN_PROGRAM_ID,new u.b(r),m[r].publicKey,n.publicKey,l.publicKey),(d=new u.d).add(o),console.log(o),f=l.secretKey?[l]:[],t.abrupt("return",{tx:d,signers:f});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:return h=t.sent,t.abrupt("return",{accounts:m,txs:h.filter((function(t){return!!t}))});case 21:case"end":return t.stop()}}),t)})));return function(e,n,r,c,a){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.findProgramAddress([e.toBuffer(),i.TOKEN_PROGRAM_ID.toBuffer(),new u.b(n).toBuffer()],s.a);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(t){return Object(r.a)(new Set(t.map(b)))},b=function(t){return t.toBase58()}},302:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return u}));n(0),n(5);var r=n(69),c=n(865),a=(n(68),n(65)),o=n(39),i=(new r.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),new r.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new r.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(t.slice(0,e),"...").concat(t.slice(-e))}),u=function(t){return new c.MallocSdk(new o.PublicKey(Object(a.a)().MALLOC_PROGRAM_ID||""),t)}}).call(this,n(6).Buffer)},309:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(65),c=n(122),a=function(){var t=Object(c.b)("splitter",Object(r.a)().INITIAL_SPLITTER_ID_UUID);return{id:t,type:"splitter",position:{x:100,y:100},data:{isInitial:!0,id:t}}},o=function(){var t=Object(c.d)("swap"),e=Object(c.d)("splitter");return[{id:t,type:"swap",data:{id:t},position:{x:100,y:400}},{id:e,type:"splitter",data:{id:e},position:{x:100,y:460}},{id:Object(c.a)(t,e),source:t,target:e}]},i=function(){var t=Object(c.d)("transfer");return[{id:t,type:"transfer",data:{id:t},position:{x:100,y:400}}]}},38:function(t,e,n){"use strict";n.d(e,"i",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return b})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return h}));var r=n(16),c=n(13),a=n(96),o=n(309),i=n(65),u=n(122),s=n(68),l=new a.Store({derivedTokenAccounts:null,tokenList:null}),d={};d[Object(u.b)("splitter",Object(i.a)().INITIAL_SPLITTER_ID_UUID)]={splitter:{splits:[],mint:void 0,tokenAccount:void 0}};var f=new a.Store(d),p=new a.Store({elements:[Object(o.c)()],actionData:[],initSplits:[],initAmount:new s.u64(0)}),b=new a.Store({storeUpdateLoading:!1,ephemeralRunLoading:!1}),m=function(t){return b.setState(Object(c.a)(Object(c.a)({},b.state),{},{ephemeralRunLoading:t}))},j=function(t){return b.setState(Object(c.a)(Object(c.a)({},b.state),{},{storeUpdateLoading:t}))},O=function(t){return p.setState({elements:[].concat(Object(r.a)(p.state.elements),Object(r.a)(t))})},v=function(t){return p.setState({elements:Object(r.a)(t)})},h=function(t,e){var n=Object(r.a)(p.state.elements);n[e]=t,p.setState(Object(c.a)(Object(c.a)({},p.state),{},{elements:n}))}},446:function(t){t.exports=JSON.parse('{"version":"0.0.0","name":"malloc","instructions":[{"name":"initConstruction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":false}],"args":[{"name":"expectedNumbNodes","type":"u32"}]},{"name":"addActions","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"actions","type":{"vec":{"defined":"ActionNode"}}}]},{"name":"prepareConstruction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"initActionIdx","type":{"vec":"u32"}},{"name":"initSplits","type":{"vec":"u64"}},{"name":"amount","type":"u64"}]},{"name":"processActionNextInReady","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"construction","isMut":true,"isSigner":false},{"name":"actionCtxProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionProgram","isMut":false,"isSigner":false}]},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"data","type":"bytes"}]},{"name":"processAction","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"construction","isMut":true,"isSigner":false},{"name":"actionCtxProxy","accounts":[{"name":"resultAccount","isMut":true,"isSigner":false},{"name":"actionProgram","isMut":false,"isSigner":false}]},{"name":"actionAccounts","dummyVecIndicator":true}],"args":[{"name":"nextActionIdx","type":"u32"},{"name":"data","type":"bytes"}]},{"name":"closeConstruction","accounts":[{"name":"construction","accounts":[{"name":"construction","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Construction","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"actions","type":{"vec":{"defined":"ActionNode"}}},{"name":"actionCalls","type":{"vec":{"defined":"ActionCall"}}},{"name":"readyCallIdxList","type":{"vec":"u32"}}]}}],"types":[{"name":"ActionNode","type":{"kind":"struct","fields":[{"name":"nextNodes","type":{"vec":{"vec":{"defined":"NextNode"}}}},{"name":"tokenAccount","type":"publicKey"},{"name":"ripeAmount","type":"u32"}]}},{"name":"NextNode","type":{"kind":"struct","fields":[{"name":"actionIdx","type":"u32"},{"name":"fraction","type":"u64"}]}},{"name":"ActionCall","type":{"kind":"struct","fields":[{"name":"callAmount","type":"u64"},{"name":"numbTimesHit","type":"u32"}]}}],"errors":[{"code":300,"name":"IncorrectConstructionShape","msg":"Incorrect construction shape"},{"code":301,"name":"IncorrectNextActionsShape","msg":"Incorrect next actions shape"},{"code":302,"name":"RipeningNotReached","msg":"Ripening amount not met for given next action index"},{"code":303,"name":"ActionIndexNotFoundInNext","msg":"Action index not found in the next action list"},{"code":304,"name":"GivenTokenAccountDoesNotMatchExpected","msg":"Next token does not equal the given token account"},{"code":305,"name":"IncorrectActionResultShape","msg":"Incorrect action result shape"},{"code":306,"name":"NumbAmountsDNENumbNodes","msg":"Number of amounts does not equal number of nodes"},{"code":307,"name":"ReadyCallIdxListEmpty","msg":"Ready call action index list is empty"},{"code":308,"name":"NumbSplitResultAmountsDNENumbNodes","msg":"Number of amounts out from calculating the split does not equal the number of nodes"},{"code":309,"name":"Expected0ForRipeOfInitNodes","msg":"Expected all initial nodes in the construction to have a ripe count of 0"},{"code":310,"name":"CannotChangeTokenAccountAfterBeingSet","msg":"Cannot change the token account of an action call after it is already set"},{"code":311,"name":"ActionHitMoreThanAllowed","msg":"Action hit more times than maximum hit allowed (i.e. the ripe amount)"}],"metadata":{"address":"3pQ44eujZZh6GUABFspUzMXY1BkmuzfrgJubdjCiRCB9"}}')},591:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(239),c=function(t,e){var n=Math.ceil(r.b*t*(e/r.e));return console.log("AAAAA",n),n}},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){var t="devnet";return{MALLOC_PROGRAM_ID:"9i4MAnhYagLr1vEo5jdmLehRe8Sm5Lx8fHaQNJfbFCve",mallocSpl:{TRANSFER_PROGRAM_ID:"ETpyJNQLorJbAcrPQpM9bkYxYMakegBh93kqZ1KnTBjr",SWAP_PROGRAM_ID:"7T6seoCvCQeUeSTf2EAwX5SnyrZvX7BFUMHi74ZodBKH"},projectSerum:{DEX_PROGRAM_ID:"DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"},demo:{FAKE_USDC:"AkzN2jJrorpUY2ApfL2UsBeTfuv1XHFKGLQurZJg6BhN",FAKE_USDC_GD:"2BB7fDrLgBNSMCLqD835GisCHrHrGHsS8SJr6brtnWk2",FAKE_TOKEN_A:"9GmQdigrAFdX67EMrVFwMepEN8rEdMdp8CPUEPJRY8sj"},INITIAL_SPLITTER_ID_UUID:"initial",solana:{RPC:"https://explorer-api.devnet.solana.com",NETWORK:t}}}},720:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n(13),c=n(0),a=n.n(c),o=n(16),i=n(5),u=n(7),s=n(9),l=n(446),d=n(866),f=n(123),p=n(308),b=n(146),m=n(239),j=n(870),O=n(264),v=n(591),h=function(){function t(e,n){Object(u.a)(this,t),this.MALLOC_PROGRAM_ID=e,this.provider=n,this.mallocProgram=void 0,this.mallocProgram=new f.b(l,e,n)}return Object(s.a)(t,[{key:"buildTxs",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,c,i,u,s,l,b,m,v,h,w,I,P,T,K,E,C,M,R,N,_,D,B,L,W,F=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.actions,r=e.initialSplits,c=e.initialActionIndices,i=e.amount,u=e.authority,s=e.amountInAccount,l=e.amountInAuthority,b=e.opts,m=l||this.provider.wallet,v=u||this.provider.wallet,t.next=5,Object(O.a)(this.provider,v,n,this.provider.wallet,null===b||void 0===b?void 0:b.associatedTokenAccounts);case 5:return h=t.sent,w=h.accounts,I=h.txs,t.next=10,x(this.mallocProgram,v.publicKey,n.length);case 10:if(P=t.sent,T=P.construction,K=P.tx,E=g(this.mallocProgram,T.publicKey,n.map((function(t){return t.actionMetadata})),v),S(c.map((function(t){return n[t]})))){t.next=16;break}throw"Expected all initial token types to be the same";case 16:if(0!==c.length){t.next=18;break}throw"Expected initial actions to have length more than 0";case 18:return C=n[c[0]].tokenMintIn,t.next=21,Object(O.c)(s,w[Object(O.b)(C)].publicKey,new f.a(i),m);case 21:if(M=t.sent,R=y(this.mallocProgram,T.publicKey,c,r,v,new f.a(i)),(N=Object(j.a)(n.map((function(t){return t.actionMetadata})),c)).length===n.length){t.next=26;break}throw"An error occurred trying to forecast your construction";case 26:return t.next=28,Promise.all(n.map((function(t){return A(new f.b(d,t.actionProgram,F.provider),t.actionMetadata.nextNodes.length)})));case 28:return _=t.sent,D=n.map((function(t,e){return{ctx:{resultAccount:_[e].resultAccount.publicKey,actionProgram:t.actionProgram},actionAccounts:[{address:w[Object(O.b)(t.tokenMintIn)].publicKey,isWriteable:!0,isSigner:!1},{address:p.b,isWriteable:!1,isSigner:!1},{address:v.publicKey,isSigner:!0,isWriteable:!1}].concat(Object(o.a)(t.actionAccounts))}})),B=N.map((function(t){return k(F.mallocProgram,t,T.publicKey,D[t],v,{data:n[t].actionData,instructions:n[t].instructions,additionalSigners:n[t].additionalSigners,preActionTxs:n[t].preActionTxs})})),L=[].concat(Object(o.a)(I),[M,K,E,R],Object(o.a)(_.map((function(t){return t.tx})))),W=Object(o.a)(B.flat()),t.abrupt("return",{construction:T,txsPrepare:L,txsActionCalls:W,tokenAccounts:w,resultAccounts:_.map((function(t){return t.resultAccount}))});case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructionState",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mallocProgram.account.construction.fetch(e.construction.publicKey);case 2:return n=t.sent,r=function(t){return{tokenAccount:new b.b(t.tokenAccount).toBase58(),ripeAmount:t.ripeAmount,nextNodes:t.nextNodes.map((function(t){return t.map((function(t){return{actionIdx:t.actionIdx,fraction:new f.a(t.fraction).toString()}}))}))}},c=function(t){return{numbTimesHit:t.numbTimesHit,callAmount:new f.a(t.callAmount).toString()}},t.abrupt("return",{construction:{authority:new b.b(n.authority).toBase58(),actions:n.actions.map(r),actionCalls:n.actionCalls.map(c),readyCallIdxList:n.readyCallIdxList}});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteEphemeralAccounts",value:function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(t){}),e.construction;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendRequests",value:function(){var t=Object(i.a)(a.a.mark((function t(e,n){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider;case 2:if(!(e.txsPrepare.length>0)){t.next=8;break}return t.next=5,this.provider.sendAll(e.txsPrepare,Object(r.a)({},(null===n||void 0===n?void 0:n.prepareCommitment)||{}));case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=[];case 9:if(c=t.t0,!((null===n||void 0===n?void 0:n.onPrepareAccountsDone)&&c.length>0)){t.next=13;break}return t.next=13,n.onPrepareAccountsDone(c);case 13:return t.next=15,this.provider.sendAll(e.txsActionCalls,Object(r.a)({},(null===n||void 0===n?void 0:n.actionCommitment)||{}));case 15:return i=t.sent,t.abrupt("return",[].concat(Object(o.a)(c),Object(o.a)(i)));case 17:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),x=function(){var t=Object(i.a)(a.a.mark((function t(e,n,r){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=f.d.Keypair.generate(),t.t0=e.transaction,t.t1=r,t.t2={construction:c.publicKey,authority:n,rent:f.d.SYSVAR_RENT_PUBKEY},t.t3=[c],t.next=7,b.c.createAccount({fromPubkey:e.provider.wallet.publicKey,newAccountPubkey:c.publicKey,space:m.a+8,lamports:Object(v.a)(m.a+8,m.c),programId:e.programId});case 7:return t.t4=t.sent,t.t5=[t.t4],t.t6={accounts:t.t2,signers:t.t3,instructions:t.t5},o=t.t0.initConstruction.call(t.t0,t.t1,t.t6),t.abrupt("return",{tx:{tx:o,signers:[c]},construction:c});case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),g=function(t,e,n,r){var c=r.secretKey?[r]:[];return{tx:t.transaction.addActions(n,{accounts:{authority:r.publicKey,construction:e,rent:f.d.SYSVAR_RENT_PUBKEY},signers:c}),signers:c}},y=function(t,e,n,r,c,a){var o=c.secretKey?[c]:[];return{tx:t.transaction.prepareConstruction(n,r.map((function(t){return new f.a(t)})),a,{accounts:{authority:c.publicKey,construction:e,rent:f.d.SYSVAR_RENT_PUBKEY},signers:o}),signers:o}},k=function(e,n,r,c,a,i){var u,s=(null===a||void 0===a?void 0:a.secretKey)?[a]:[],l=(null===(u=i.tokenAuthority)||void 0===u?void 0:u.secretKey)?[i.tokenAuthority]:[],d=i.tokenAuthority?[].concat(l,s):[].concat(s),p=[].concat(Object(o.a)(d),Object(o.a)(i.additionalSigners||[]));return[].concat(Object(o.a)(i.preActionTxs||[]),[{tx:e.transaction.processAction(n,i.data||t.from([]),{accounts:{construction:r,rent:f.d.SYSVAR_RENT_PUBKEY,authority:a.publicKey,actionCtxProxy:c.ctx,actionAccounts:c.actionAccounts},signers:p,instructions:i.instructions||void 0}),signers:p}])},A=function(){var t=Object(i.a)(a.a.mark((function t(e,n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.a.generate(),e.provider.connection.getMinimumBalanceForRentExemption,c=w(n),t.t0=e.transaction,t.t1=n,t.t2={result:r.publicKey,rent:f.d.SYSVAR_RENT_PUBKEY},t.next=8,b.c.createAccount({fromPubkey:e.provider.wallet.publicKey,newAccountPubkey:r.publicKey,space:c,lamports:Object(v.a)(c,m.d),programId:e.programId});case 8:return t.t3=t.sent,t.t4=[t.t3],t.t5=[r],t.t6={accounts:t.t2,instructions:t.t4,signers:t.t5},o=t.t0.initResultAccount.call(t.t0,t.t1,t.t6),t.abrupt("return",{tx:{tx:o,signers:[r]},resultAccount:r});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),w=function(t){return 44+8*t+64},S=function(t){if(0===t.length)return!0;var e=Object(O.b)(t[0].tokenMintIn);return t.every((function(t){return Object(O.b)(t.tokenMintIn)===e}))}}).call(this,n(6).Buffer)},746:function(t,e,n){"use strict";n(747),n(748)},747:function(t,e,n){"use strict";n(13)},748:function(t,e){},749:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p}));n(13);var r=n(19),c=n(0),a=n.n(c),o=n(5),i=n(167),u=n(305),s=n(200),l=n(456),d=n(265),f=(n(452),function(){var t=Object(o.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:return n=t.sent,t.abrupt("return",(function(t){return{actionMetadata:t,actionData:j(s.b.BasicSwap,n.side,e.minOut),actionAccounts:O(n.swapAccounts,n.side),actionProgram:e.swapActionProgram,tokenMintIn:e.inMint,tokenMintOuts:[e.outMint],preActionTxs:n.openOrderInitTx?[n.openOrderInitTx]:[]}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p=function(){var t=Object(o.a)(a.a.mark((function t(e){var n,c,o,i,l,f,p,j,O,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e.provider.connection,e.inMint,e.outMint,e.serumDexProgramId);case 2:if(n=t.sent){t.next=5;break}throw"No markets found";case 5:return c=n.side,o=n.pk,t.next=8,d.Market.load(e.provider.connection,o,{},e.serumDexProgramId);case 8:return i=t.sent,t.next=11,b(e.provider.connection,i,e.authority,e.serumDexProgramId);case 11:return l=t.sent,t.next=14,v(i.decoded.ownAddress,e.serumDexProgramId);case 14:return f=t.sent,p=Object(r.a)(f,2),j=p[0],p[1],O=c===s.a.Bid?e.outTokenAccount:e.inTokenAccount,h=c===s.a.Bid?e.inTokenAccount:e.outTokenAccount,t.abrupt("return",{market:i,swapAccounts:{market:{market:i.decoded.ownAddress,requestQueue:i.decoded.requestQueue,eventQueue:i.decoded.eventQueue,bids:i.decoded.bids,asks:i.decoded.asks,coinVault:i.decoded.baseVault,pcVault:i.decoded.quoteVault,vaultSigner:j,openOrders:e.openOrdersAccount||l.openOrderPk,orderPayerTokenAccount:e.inTokenAccount,coinWallet:O},pcWallet:h,authority:e.authority,dexProgram:e.serumDexProgramId,tokenProgram:u.TOKEN_PROGRAM_ID,rent:e.rent},openOrderInitTx:e.openOrdersAccount?void 0:l.openOrderTx,side:c});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r,c){var o,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.OpenOrders.findForMarketAndOwner(e,n.address,r,c);case 2:if(0!==(o=t.sent).length){t.next=14;break}return u=new i.a((new i.b).secretKey),s=new i.d,t.t0=s,t.next=9,d.OpenOrders.makeCreateAccountTransaction(e,n.decoded.ownAddress,r,u.publicKey,c);case 9:return t.t1=t.sent,t.t0.add.call(t.t0,t.t1),t.abrupt("return",{openOrderPk:u.publicKey,openOrderTx:{tx:s,signers:[u]}});case 14:return t.abrupt("return",{openOrderPk:o[0].publicKey});case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r,c){var o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.a.Ask,t.next=3,x(e,n,r,c);case 3:if((i=t.sent)&&0!==i.length){t.next=9;break}return t.next=7,x(e,r,n,c);case 7:i=t.sent,o=s.a.Bid;case 9:if(i&&0!==i.length){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",{pk:i[0],side:o});case 12:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}(),j=function(e,n,r){var c=r.toArrayLike(t,"be",8),a=t.from(new Uint8Array([e,n]));return t.concat([a,c])},O=function(t,e,n){var r=e===s.a.Bid?t.pcWallet:t.market.coinWallet,c=e===s.a.Bid?t.market.coinWallet:t.pcWallet,a=[{isWriteable:!0,address:r},{address:t.tokenProgram},{address:t.authority,isSigner:!0},{address:t.rent},{address:t.dexProgram},{address:c,isWriteable:!0},{address:t.market.market,isWriteable:!0},{address:t.market.openOrders,isWriteable:!0},{address:t.market.requestQueue,isWriteable:!0},{address:t.market.eventQueue,isWriteable:!0},{address:t.market.bids,isWriteable:!0},{address:t.market.asks,isWriteable:!0},{address:t.market.orderPayerTokenAccount,isWriteable:!0},{address:t.market.coinVault,isWriteable:!0},{address:t.market.pcVault,isWriteable:!0},{address:t.market.vaultSigner}];return n&&a.push({address:n,isWriteable:!0}),a};function v(t,e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(a.a.mark((function e(n,r){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new l.a(0);case 1:if(!(c.toNumber()<255)){e.next=14;break}return e.prev=2,e.next=5,i.c.createProgramAddress([n.toBuffer(),c.toArrayLike(t,"le",8)],r);case 5:return o=e.sent,e.abrupt("return",[o,c]);case 9:e.prev=9,e.t0=e.catch(2),c.iaddn(1);case 12:e.next=1;break;case 14:throw new Error("Unable to find nonce");case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var x=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.Market.getLayout(c);case 2:return t.sent,t.next=5,d.Market.findAccountsByMints(e,n,r,c);case 5:return t.abrupt("return",t.sent.map((function(t){return t.publicKey})));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}()}).call(this,n(6).Buffer)},865:function(t,e,n){"use strict";var r=n(720);n.d(e,"MallocSdk",(function(){return r.a}));n(746),n(446)},866:function(t){t.exports=JSON.parse('{"version":"0.0.0","name":"action_template","instructions":[{"name":"initResultAccount","accounts":[{"name":"result","isMut":true,"isSigner":false}],"args":[{"name":"capacity","type":"u32"}]},{"name":"closeResultAccount","accounts":[{"name":"resultAccountCtx","accounts":[{"name":"result","isMut":true,"isSigner":false}]},{"name":"recipient","isMut":false,"isSigner":false}],"args":[]},{"name":"init","accounts":[],"args":[]}],"accounts":[{"name":"ActionResult","type":{"kind":"struct","fields":[{"name":"resultantAmounts","type":{"vec":"u64"}},{"name":"numberOfResults","type":"u32"},{"name":"owner","type":"publicKey"}]}}],"errors":[{"code":300,"name":"AFakeError","msg":"An error here"}],"metadata":{"address":"Hq16v9a4zjyrjG4AdZTqZgVPQhMM9YGFf2vhL8Zeg5cP"}}')},870:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(13),c=n(16),a=function(t,e){var n=Object(c.a)(Array(t.length)).fill(0);return o(t.map((function(t,e){return Object(r.a)(Object(r.a)({},t),{},{id:e})})),n,e)},o=function t(e,n,r){if(0===r.length)return[];var a=n.map((function(t,e){return i(r,e)+t})),o=e.filter((function(t){return t.ripeAmount===a[t.id]&&r.includes(t.id)})),u=o.map((function(t){return t.nextNodes.map((function(t){return t.map((function(t){return t.actionIdx}))}))})).flat().flat();return[].concat(Object(c.a)(o.map((function(t){return t.id}))),Object(c.a)(t(e,a,u)))},i=function(t,e){return t.filter((function(t){return t===e})).length}},877:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r=n(0),c=n.n(r),a=n(5),o=n(19),i=n(1410),u=n(93),s=n(39),l=n(4),d=n(65),f=n(38),p=n(196),b=n(101),m=n(27),j=function(e){var n=Object(l.useState)(""),r=Object(o.a)(n,2),j=r[0],O=r[1],v=Object(u.useAnchorWallet)();Object(l.useEffect)((function(){null!==e.toggleNodeInfoSet&&h()}),[e.toggleNodeInfoSet]);var h=function(){var n=Object(a.a)(c.a.mark((function n(){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(j){n.next=2;break}return n.abrupt("return");case 2:Object(f.h)(!0),n.prev=3,r=new s.PublicKey(j),n.next=12;break;case 7:return n.prev=7,n.t0=n.catch(3),alert("Invalid recipient account"),Object(f.h)(!1),n.abrupt("return");case 12:if(e.mint){n.next=15;break}return Object(f.h)(!1),n.abrupt("return");case 15:return n.next=17,Object(b.b)(r,e.mint);case 17:return a=n.sent,n.next=20,Object(p.a)(v).connection.getAccountInfo(a);case 20:if(n.sent){n.next=25;break}return alert("Looks like the user does not have an associated account with this mint!"),Object(f.h)(!1),n.abrupt("return");case 25:e.nodeInfoStoreState[e.id]={action:{actionData:t.from([]),actionProgram:new s.PublicKey(Object(d.a)().mallocSpl.TRANSFER_PROGRAM_ID),actionAccounts:[{address:a,isWriteable:!0}],additionalSigners:[],tokenMintOuts:[],tokenAccountsOuts:[]}},f.c.setState(e.nodeInfoStoreState),Object(f.h)(!1);case 28:case"end":return n.stop()}}),n,null,[[3,7]])})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{children:"Transfer Action"}),Object(m.jsxs)("p",{children:["Input token: ",e.mintName]}),Object(m.jsx)(i.a,{value:j,label:"Recipient Address",onChange:function(t){return O(t.target.value)},onBlur:function(t){return h()}})]})}}).call(this,n(6).Buffer)},901:function(t,e,n){},902:function(t,e,n){},903:function(t,e){},905:function(t,e){},912:function(t,e){},927:function(t,e){},928:function(t,e){},967:function(t,e){},968:function(t,e){},969:function(t,e){},973:function(t,e){},990:function(t,e){},991:function(t,e){}},[[1396,1,2]]]);
//# sourceMappingURL=main.97c357e7.chunk.js.map